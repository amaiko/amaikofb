<?php
/*
 *
 * PHPforFB
 * - A Professional PHP Framework for Facebook
 *
 * Version 1.90 - Release Date Nov/7/2012
 *
 * Writen 02/2011-11/2012 by Rezar Behzad
 * Co-Programmer: Javad Ghodrati
 *
 * http://www.phpforfb.com
 *
 * Email: support@phpforfb.com
 *
 *
 * PHPforFB IS A COPYRIGHTED WORK - IT IS -NOT- UNDER GNU OR PUBLIC LICENCE!
 *
 * All the information, troubleshooting methods, utilities offered provided AS-IS, without any warranties.
 * Reproduction or translation without the author's written permission is prohibited.
 * No content may be reproduced, sold or changed without the written permission of the author.
 *
 *
 * LICENCE AGREEMENT
 *
 * PHPforFB is free for use. You may create unlimited numbers of commercial or non-commercial
 * applications with no per seat or per user payments.
 *
 * You may not, without Our prior written consent, redistribute the Software or Modifications. You are
 * explicitly not allowed to redistribute the Software or Modifications as part of any product that can
 * be described as a development toolkit or library or is intended for use by software developers or
 * application developers and not end-users. You are not allowed to redistribute any part of the Software
 * documentation. You may not use any part of the Software or Modifications or Your knowledge of the
 * Software (or any information that You learn as a result of Your use of the Software) to create a
 * product with the same or substantially the same functionality as the Software
 *
 *
 * Facebook is a registered trademark of Facebook Inc. (www.facebook.com)
 */

$PHPforFB6fc263eee3ed='aWYoaW50dmFsKHN1YnN0cihwaHB2ZXJzaW9uKCksMCwxKSk8IDUpe2VjaG8gJ1BIUGZvckZiIG5lZWRzIFBIUCB2ZXJzaW9uIDUuMCBvciBoaWdoZXIuJztleGl0O31pZighZnVuY3Rpb25fZXhpc3RzKCdqc29uX2RlY29kZScpKXtlY2hvICJQSFBmb3JGYiBuZWVkcyB0aGUgSlNPTiBQSFAgZXh0ZW5zaW9uLlxuUGxlYXNlIHZpc2l0IGh0dHA6Ly93d3cucGhwLm5ldC9tYW51YWwvZW4vYm9vay5qc29uLnBocCBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgaW5zdGFsbGF0aW9uIGluc3RydWN0aW9ucy4iO2V4aXQ7fWlmKCFmdW5jdGlvbl9leGlzdHMoJ2N1cmxfaW5pdCcpKXtlY2hvICJQSFBmb3JGYiBuZWVkcyB0aGUgQ1VSTCBQSFAgZXh0ZW5zaW9uLlxuUGxlYXNlIHZpc2l0IGh0dHA6Ly93d3cucGhwLm5ldC9tYW51YWwvZW4vYm9vay5jdXJsLnBocCBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgaW5zdGFsbGF0aW9uIGluc3RydWN0aW9ucy4iO2V4aXQ7fWRlZmluZSgnR1JBUEhfVVJMJywnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20nKTtkZWZpbmUoJ0ZRTF9VUkwnLCdodHRwczovL2FwaS5mYWNlYm9vay5jb20vbWV0aG9kL2ZxbC5xdWVyeScpO2RlZmluZSgnUkVTVF9VUkwnLCdodHRwczovL2FwaS5mYWNlYm9vay5jb20vcmVzdHNlcnZlci5waHAnKTtkZWZpbmUoJ05PVF9JTl9USElTX01PREUnLCdPbmx5IGF2YWlsYWJsZSBpbiBQSFBmb3JGQiBhcHAvcGFnZSBtb2RlJyk7Y2xhc3MgUEhQZm9yRkJ7cHVibGljICRhcHBJRDtwdWJsaWMgJGFwcE5hbWU7cHVibGljICRhcHBGQlVSTDtwdWJsaWMgJGFwcFNlcnZlclVSTDtwdWJsaWMgJGFwcEFjY2Vzc1Rva2VuO3B1YmxpYyAkc3NsX3Byb3h5X3VybCA9ICcnO3B1YmxpYyAkbG9nRGlyO3B1YmxpYyAkbG9nTGV2ZWwgPSAxO3B1YmxpYyAkbG9nZ2luZyA9IDA7cHVibGljICRjYWNoaW5nID0gVFJVRTtwdWJsaWMgJGNhY2hlRXhwaXJlcyA9IDYwMDtwdWJsaWMgJGNhbGxGcm9tRmFjZWJvb2s7cHVibGljICR1c2VyTG9nZ2VkSW4gPSBGQUxTRTtwdWJsaWMgJHVzZXJBdXRoZW50aWNhdGVkID0gRkFMU0U7cHVibGljICR1c2VyVXNlZExhbmd1YWdlO3B1YmxpYyAkdXNlckFjdHVhbENvdW50cnk7cHVibGljICR1c2VySXNBZHVsdCA9IEZBTFNFO3B1YmxpYyAkY2FsbEZyb20gPSAnJztwdWJsaWMgJG9rVVJMO3B1YmxpYyAkY2FuY2VsVVJMO3B1YmxpYyAkYWNjZXNzVG9rZW47cHVibGljICRhY2Nlc3NUb2tlbl91cmxfcGFyYW07cHVibGljICRhY2Nlc3NUb2tlbl9leHBpcmVfZGF0ZTtwdWJsaWMgJGFjY2Vzc1Rva2VuX2V4cGlyZXNfaW5fc2Vjb25kcztwdWJsaWMgJHVzZXJJRDtwdWJsaWMgJHVzZXJEYXRhO3B1YmxpYyAkdXNlckZyaWVuZHNEYXRhO3B1YmxpYyAkdXNlckxpa2VzO3B1YmxpYyAkdXNlckFsYnVtcztwdWJsaWMgJGxhc3RFcnJvckNvZGU7cHVibGljICRsYXN0RXJyb3I7cHVibGljICRydW5PdXRvZklmcmFtZSA9IEZBTFNFO3B1YmxpYyAkY2FsbEFzUGFnZSA9IEZBTFNFO3B1YmxpYyAkcGFnZUlEID0gMDtwdWJsaWMgJGlzUGFnZUFkbWluO3B1YmxpYyAkdXNlckxpa2VzUGFnZTtwdWJsaWMgJHBhZ2VEYXRhO3B1YmxpYyAkaXNNb2JpbGVEZXZpY2UgPSBGQUxTRTtwdWJsaWMgJG1vYmlsZURldmljZSA9ICcnO3B1YmxpYyAkcnVuTW9kZSA9ICdhcHAnO3B1YmxpYyAkcHJvdG9jb2wgPSAnaHR0cDovLyc7cHJpdmF0ZSAkc2NvcGVzID0gJ2Jhc2ljJztwcml2YXRlICRzY29wZXNfb2sgPSAnJztwcml2YXRlICRzY29wZXNfcmVxdWVzdF9kYXRlO3ByaXZhdGUgJGdvdG9QYWdlID0gRkFMU0U7cHJpdmF0ZSAkZ290b1VSTDtwcml2YXRlICRvYmplY3RfaWQ7cHJpdmF0ZSAkc2Vzc2lvbl9pZDtwcml2YXRlICRsYXN0X3VwZGF0ZTtwcml2YXRlICRsb2dfZmlsZW5hbWU7cHJpdmF0ZSAkQXBwU2VjS2V5O3ByaXZhdGUgJGFkZFBhZ2VfcmVkaXJlY3RfdXJsID0gJyc7cHJpdmF0ZSAkYXBwX2NhbGxfcGFyYW1zID0gJyc7cHJpdmF0ZSAkY2xhc3NWZXJzaW9uID0gJzEuOSc7cHJpdmF0ZSAkY2xhc3NCdWlsZCA9ICcyMTEwOCc7cHVibGljICRQRVJNSVNTT05TX0FWQUlMQUJMRSA9IGFycmF5KCAnYmFzaWMnLCd1c2VyX2Fib3V0X21lJywnZnJpZW5kc19hYm91dF9tZScsJ3VzZXJfYWN0aXZpdGllcycsJ2ZyaWVuZHNfYWN0aXZpdGllcycsJ3VzZXJfYmlydGhkYXknLCdmcmllbmRzX2JpcnRoZGF5JywndXNlcl9jaGVja2lucycsJ2ZyaWVuZHNfY2hlY2tpbnMnLCd1c2VyX2VkdWNhdGlvbl9oaXN0b3J5JywnZnJpZW5kc19lZHVjYXRpb25faGlzdG9yeScsJ3VzZXJfZXZlbnRzJywnZnJpZW5kc19ldmVudHMnLCd1c2VyX2dyb3VwcycsJ2ZyaWVuZHNfZ3JvdXBzJywndXNlcl9ob21ldG93bicsJ2ZyaWVuZHNfaG9tZXRvd24nLCd1c2VyX2ludGVyZXN0cycsJ2ZyaWVuZHNfaW50ZXJlc3RzJywndXNlcl9saWtlcycsJ2ZyaWVuZHNfbGlrZXMnLCd1c2VyX2xvY2F0aW9uJywnZnJpZW5kc19sb2NhdGlvbicsJ3VzZXJfbm90ZXMnLCdmcmllbmRzX25vdGVzJywndXNlcl9waG90b3MnLCdmcmllbmRzX3Bob3RvcycsJ3VzZXJfcXVlc3Rpb25zJywnZnJpZW5kc19xdWVzdGlvbnMnLCd1c2VyX3JlbGF0aW9uc2hpcHMnLCdmcmllbmRzX3JlbGF0aW9uc2hpcHMnLCd1c2VyX3JlbGF0aW9uc2hpcF9kZXRhaWxzJywnZnJpZW5kc19yZWxhdGlvbnNoaXBfZGV0YWlscycsJ3VzZXJfcmVsaWdpb25fcG9saXRpY3MnLCdmcmllbmRzX3JlbGlnaW9uX3BvbGl0aWNzJywndXNlcl9zdGF0dXMnLCdmcmllbmRzX3N0YXR1cycsJ3VzZXJfc3Vic2NyaXB0aW9ucycsJ2ZyaWVuZHNfc3Vic2NyaXB0aW9ucycsJ3VzZXJfdmlkZW9zJywnZnJpZW5kc192aWRlb3MnLCd1c2VyX3dlYnNpdGUnLCdmcmllbmRzX3dlYnNpdGUnLCd1c2VyX3dvcmtfaGlzdG9yeScsJ2ZyaWVuZHNfd29ya19oaXN0b3J5JywnZW1haWwnLCdwdWJsaXNoX2FjdGlvbnMnLCd1c2VyX2dhbWVzX2FjdGl2aXR5JywnZnJpZW5kc19nYW1lc19hY3Rpdml0eScsJ34nLCdyZWFkX2ZyaWVuZGxpc3RzJywncmVhZF9pbnNpZ2h0cycsJ3JlYWRfbWFpbGJveCcsJ3JlYWRfcmVxdWVzdHMnLCdyZWFkX3N0cmVhbScsJ3htcHBfbG9naW4nLCdhZHNfbWFuYWdlbWVudCcsJ2NyZWF0ZV9ldmVudCcsJ21hbmFnZV9mcmllbmRsaXN0cycsJ21hbmFnZV9ub3RpZmljYXRpb25zJywndXNlcl9vbmxpbmVfcHJlc2VuY2UnLCdmcmllbmRzX29ubGluZV9wcmVzZW5jZScsJ3B1Ymxpc2hfY2hlY2tpbnMnLCdwdWJsaXNoX3N0cmVhbScsJ3JzdnBfZXZlbnQnLCdvZmZsaW5lX2FjY2VzcycsKTtwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHN0cnVjdEluaXREYXRhKXtpZihzdHJzdHIoJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddLCdJRScpKXtpZighaGVhZGVyc19zZW50KCkpe2hlYWRlcignUDNQOiBDUD1DQU8gRFNQIENPUiBDVVJhIEFETWEgREVWYSBPVVIgSU5EIFBIWSBPTkwgVU5JIENPTSBOQVYgSU5UIERFTSBQUkUnKTt9fWlmKGVtcHR5KCRzdHJ1Y3RJbml0RGF0YVsnbW9kZSddKXx8ICFpc3NldCgkc3RydWN0SW5pdERhdGFbJ21vZGUnXSkpeyRtb2RlID0gJ2FwcCc7fWVsc2V7JG1vZGVzID0gYXJyYXkoJ2FwcCcsJ3BhZ2UnLCdjYWxsYmFjaycsJ2RpcmVjdF91c2UnKTskbW9kZSA9ICRzdHJ1Y3RJbml0RGF0YVsnbW9kZSddO2lmKCFpbl9hcnJheShzdHJ0b2xvd2VyKCRtb2RlKSwkbW9kZXMpKXskdGhpcy0+bGFzdEVycm9yID0gJ1Vua25vd24gbW9kZSBwYXJhbWV0ZXInLiJcblBsZWFzZSB1c2U6ICIudmFyX2V4cG9ydCgkbW9kZXMsVFJVRSk7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDI5OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fX1pZigkbW9kZSA9PSAncGFnZScpJG1vZGUgPSAnYXBwJzskdGhpcy0+cnVuTW9kZSA9ICRtb2RlO2lmKGlzc2V0KCRzdHJ1Y3RJbml0RGF0YVsnbG9nRGlyJ10pKSRsb2dfZGlyZWN0b3J5ID0gJHN0cnVjdEluaXREYXRhWydsb2dEaXInXTtlbHNlICRsb2dfZGlyZWN0b3J5ID0gJyc7JGFyciA9IGFycmF5KCdsb2dMZXZlbCcsJ2xvZ2dpbmcnLCdjYWNoaW5nJywnY2FjaGVFeHBpcmVzJywncnVuT3V0b2ZJZnJhbWUnKTtmb3JlYWNoKCRhcnIgYXMgJHZhbClpZihpc3NldCgkc3RydWN0SW5pdERhdGFbJHZhbF0pJiYgJHN0cnVjdEluaXREYXRhWyR2YWxdPD4nJyApJHRoaXMtPiR2YWwgPSAkc3RydWN0SW5pdERhdGFbJHZhbF07JHRoaXMtPmxvZ19maWxlbmFtZSA9ICdQSFBmb3JGQl8nLkRBVEUoJ1ltZCcpLicubG9nJztpZigkbG9nX2RpcmVjdG9yeSA8PiAnJyl7JHRoaXMtPmxvZ2dpbmcgPSAxO2lmKHN0cnRvdXBwZXIoJGxvZ19kaXJlY3RvcnkpPT0gJ1RFTVBfRElSJyl7JHRoaXMtPmxvZ0RpciA9ICR0aGlzLT5nZXRUZW1wRGlyKCk7JHRoaXMtPldyaXRlTG9nKDIsJ3NldCB0ZW1wZGlyIHRvICcuJHRoaXMtPmxvZ0Rpcik7fWVsc2V7aWYoJGxvZ19kaXJlY3Rvcnk9PScuLycpJGxvZ19kaXJlY3RvcnkgPSBkaXJuYW1lKCRfU0VSVkVSWydTQ1JJUFRfRklMRU5BTUUnXSkuJy8nO2lmKHN1YnN0cigkbG9nX2RpcmVjdG9yeSwtMSk8PicvJykkbG9nX2RpcmVjdG9yeS49Jy8nO2lmKCFpc19kaXIoJGxvZ19kaXJlY3RvcnkpKXtpZighbWtkaXIoJGxvZ19kaXJlY3RvcnksMDcwMCx0cnVlKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdDYW4gbm90IGNyZWF0ZSBMb2cgZGlyZWN0b3J5JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDU7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9fSR0aGlzLT5sb2dEaXIgPSAkbG9nX2RpcmVjdG9yeTskdGhpcy0+V3JpdGVMb2coMiwnc2V0IHRlbXBkaXIgdG8gJy4kdGhpcy0+bG9nRGlyKTt9fWVsc2V7JHRoaXMtPmxvZ2dpbmcgPSAwO31pZighZW1wdHkoJHN0cnVjdEluaXREYXRhWydhcHBfaWQnXSkpeyRhcHBfaWQgPSAkc3RydWN0SW5pdERhdGFbJ2FwcF9pZCddO2lmKHN0cmxlbigkYXBwX2lkKTwgMTIpe2lmKCRhcHBfaWQ9PScnKXskdGhpcy0+bGFzdEVycm9yID0gJ2FwcElEIG5vdCBhdmFpbGFibGUnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwMTt9ZWxzZXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgYXBwSUQnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwMjt9JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9fWlmKCR0aGlzLT5ydW5Nb2RlID09ICdhcHAnKXskYXBwX25hbWUgPSAkc3RydWN0SW5pdERhdGFbJ2FwcF9uYW1lJ107JHNlY19rZXkgPSAkc3RydWN0SW5pdERhdGFbJ3NlY19rZXknXTtpZihzZXNzaW9uX2lkKCk9PSAnJyl7JHJlcyA9IHNlc3Npb25fc3RhcnQoKTtpZigkcmVzIDw+IEZBTFNFKXskdGhpcy0+V3JpdGVMb2coMiwnU2Vzc2lvbiBzdGFydGVkIHdpdGggU2Vzc2lvbi1JZDogJy5zZXNzaW9uX2lkKCkpO31lbHNleyR0aGlzLT5sYXN0RXJyb3IgPSAnU2Vzc2lvbiBzdGFydCBmYWlsZWQnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwMDskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO319ZWxzZXskdGhpcy0+V3JpdGVMb2coMiwnU2Vzc2lvbi1JZDogJy5zZXNzaW9uX2lkKCkpO31pZihzdHJsZW4oJHNlY19rZXkpPCAyOCl7aWYoJHNlY19rZXk9PScnKXskdGhpcy0+bGFzdEVycm9yID0gJ1NlY3VyaXR5S2V5IG5vdCBhdmFpbGFibGUnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwMzt9ZWxzZXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgU2VjdXJpdHlLZXknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNDt9JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9aWYoc3RybGVuKCRhcHBfbmFtZSk8IDMpe2lmKCRhcHBfbmFtZT09JycpeyR0aGlzLT5sYXN0RXJyb3IgPSAnQXBwTmFtZShOYW1lc3BhY2UgLyBDYW52YXMgTmFtZSlub3QgYXZhaWxhYmxlJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDg7fWVsc2V7JHRoaXMtPmxhc3RFcnJvciA9ICdBcHBOYW1lKE5hbWVzcGFjZSAvIENhbnZhcyBOYW1lKXRvbyBzaG9ydCc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA5O30kdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO319aWYoaXNzZXQoJF9SRVFVRVNUWydzaWduZWRfcmVxdWVzdCddKSl7JHNpZ25lZF9yZXF1ZXN0ID0gJHRoaXMtPkdldFNpZ25lZFJlcXVlc3QoJF9SRVFVRVNUWydzaWduZWRfcmVxdWVzdCddKTt9JG1vYmlsZV93ZWIgPSBGQUxTRTtpZihpc3NldCgkX0dFVFsnX3JkciddKSl7JG1vYmlsZV93ZWIgPSBUUlVFO2lmKCFpc3NldCgkX1JFUVVFU1RbJ2Zic18nLiRhcHBfaWRdKSl7fWVsc2V7aWYoIWlzc2V0KCRfUkVRVUVTVFsnc2lnbmVkX3JlcXVlc3QnXSkmJiAhZW1wdHkoJGFwcF9pZCkmJiBpc3NldCgkX1JFUVVFU1RbJ2Zic18nLiRhcHBfaWRdKSYmICFlbXB0eSgkX1JFUVVFU1RbJ2Zic18nLiRhcHBfaWRdKSl7JGZic190b2tlbiA9ICR0aGlzLT5HZXRGYnNUb2tlbigkX1JFUVVFU1RbJ2Zic18nLiRhcHBfaWRdKTskdGhpcy0+V3JpdGVMb2coMiwnRkJTX1RPS0VOIGRldGVjdGVkJyk7aWYoJGZic190b2tlbiA9PT0gRkFMU0UpeyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JHNpZ25lZF9yZXF1ZXN0Wyd1c2VyX2lkJ10gPSAkZmJzX3Rva2VuWyd1aWQnXTskc2lnbmVkX3JlcXVlc3RbJ29hdXRoX3Rva2VuJ10gPSAkZmJzX3Rva2VuWydhY2Nlc3NfdG9rZW4nXTskc2lnbmVkX3JlcXVlc3RbJ2V4cGlyZXMnXSA9ICRmYnNfdG9rZW5bJ2V4cGlyZXMnXTt9fX19aWYoaXNzZXQoJHNpZ25lZF9yZXF1ZXN0KSl7aWYoaXNzZXQoJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyX2lkJ10pKSR1c2VyX2lkID0gJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyX2lkJ107ZWxzZSAkdXNlcl9pZCA9ICcnO31lbHNleyR1c2VyX2lkID0gJyc7fSR0aGlzLT5pc01vYmlsZURldmljZSA9IEZBTFNFOyR1c2VyYWdlbnQ9JF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddO2lmKHN0cmxlbigkdXNlcmFnZW50KT4gMTApeyR0YWJsZXREZXZpY2VzID0gYXJyYXkoICdCbGFja0JlcnJ5VGFibGV0JyAgPT4gJ1BsYXlCb29rfFJJTSBUYWJsZXQnLCdpUGFkJyAgICAgICAgICAgICAgPT4gJ2lQYWR8aVBhZC4qTW9iaWxlJywgJ05leHVzVGFibGV0JyAgICAgICA9PiAnXi4qQW5kcm9pZC4qTmV4dXMoPzooPyFNb2JpbGUpLikqJCcsJ0tpbmRsZScgICAgICAgICAgICA9PiAnS2luZGxlfFNpbGsuKkFjY2VsZXJhdGVkJywnU2Ftc3VuZ1RhYmxldCcgICAgID0+ICdTQU1TVU5HLipUYWJsZXR8R2FsYXh5LipUYWJ8R1QtUDEwMDB8R1QtUDEwMTB8R1QtUDYyMTB8R1QtUDY4MDB8R1QtUDY4MTB8R1QtUDcxMDB8R1QtUDczMDB8R1QtUDczMTB8R1QtUDc1MDB8R1QtUDc1MTB8U0NILUk4MDB8U0NILUk4MTV8U0NILUk5MDV8U0dILUk5NTd8U0dILUk5ODd8U0dILVQ4NDl8U0dILVQ4NTl8U0dILVQ4Njl8U1BILVAxMDB8R1QtUDEwMDB8R1QtUDMxMDB8R1QtUDMxMTB8R1QtUDUxMDB8R1QtUDUxMTB8R1QtUDYyMDB8R1QtUDczMDB8R1QtUDczMjB8R1QtUDc1MDB8R1QtUDc1MTB8R1QtUDc1MTEnLCdIVEN0YWJsZXQnICAgICAgICAgPT4gJ0hUQyBGbHllcnxIVEMgSmV0c3RyZWFtfEhUQy1QNzE1YXxIVEMgRVZPIFZpZXcgNEd8UEc0MTIwMCcsJ01vdG9yb2xhVGFibGV0JyAgICA9PiAneG9vbXxzaG9sZXN0fE1aNjE1fE1aNjA1fE1aNTA1fE1aNjAxfE1aNjAyfE1aNjAzfE1aNjA0fE1aNjA2fE1aNjA3fE1aNjA4fE1aNjA5fE1aNjE1fE1aNjE2fE1aNjE3JywnQXN1c1RhYmxldCcgICAgICAgID0+ICdUcmFuc2Zvcm1lcnxURjEwMScsJ05vb2tUYWJsZXQnICAgICAgICA9PiAnQW5kcm9pZC4qTm9va3xOb29rQ29sb3J8bm9vayBicm93c2VyfEJOVFYyNTBBfExvZ2ljUEQgWm9vbTInLCdBY2VyVGFibGV0JyAgICAgICAgPT4gJ0FuZHJvaWQuKlxiKEExMDB8QTEwMXxBMjAwfEE1MDB8QTUwMXxBNTEwfFc1MDB8VzUwMFB8VzUwMXxXNTAxUClcYicsJ1lhcnZpa1RhYmxldCcgICAgICA9PiAnQW5kcm9pZC4qKFRBQjIxMHxUQUIyMTF8VEFCMjI0fFRBQjI1MHxUQUIyNjB8VEFCMjY0fFRBQjMxMHxUQUIzNjB8VEFCMzY0fFRBQjQxMHxUQUI0MTF8VEFCNDIwfFRBQjQyNHxUQUI0NTB8VEFCNDYwfFRBQjQ2MXxUQUI0NjR8VEFCNDY1fFRBQjQ2N3xUQUI0NjgpJywnTWVkaW9uVGFibGV0JyAgICAgID0+ICdBbmRyb2lkLipcYk9ZT1xifExJRkUuKihQOTIxMnxQOTUxNHxQOTUxNnxTOTUxMil8TElGRVRBQicsJ0Fybm92YVRhYmxldCcgICAgICA9PiAnQU4xMEcyfEFON2JHM3xBTjdmRzN8QU44RzN8QU44Y0czfEFON0czfEFOOUczfEFON2RHM3xBTjdkRzNTVHxBTjdkRzNDaGlsZFBhZHxBTjEwYkczfEFOMTBiRzNEVCcsJ0FyY2hvc1RhYmxldCcgICAgICA9PiAnQW5kcm9pZC4qQVJDSE9TfDEwMUc5fDgwRzknLCdBaW5vbFRhYmxldCcgICAgICAgPT4gJ05PVk83fE5vdm83QXVyb3JhfE5vdm83QmFzaWN8Tk9WTzdQQUxBRElOJywnU29ueVRhYmxldCcgICAgICAgID0+ICdTb255IFRhYmxldHxTb255IFRhYmxldCBTJywnR2VuZXJpY1RhYmxldCcgICAgID0+ICdUYWJsZXQoPyEuKlBDKXxWaWV3UGFkN3xMRy1WOTA5fE1JRDcwMTV8Qk5UVjI1MEF8TG9naWNQRCBab29tMnxcYkE3RUJcYnxDYXROb3ZhOHxBMV8wN3xDVDcwNHxDVDEwMDJ8XGJNNzIxXGJ8aHAtdGFibGV0JywpOyRyZWdleCA9ICcnO2ZvcmVhY2goJHRhYmxldERldmljZXMgYXMgJHZhbCA9PiAkcmVnZXgpeyRyZWdleCA9IHN0cl9yZXBsYWNlKCcvJywnXC8nLCRyZWdleCk7aWYocHJlZ19tYXRjaCgnLycuJHJlZ2V4LicvaXMnLCR1c2VyYWdlbnQpKXskdGhpcy0+aXNNb2JpbGVEZXZpY2UgPSBUUlVFOyR0aGlzLT5tb2JpbGVEZXZpY2UgPSAndGFibGV0JzticmVhazt9fWlmKCR0aGlzLT5pc01vYmlsZURldmljZSA9PT0gRkFMU0Upe2lmKHByZWdfbWF0Y2goJy9pcGFkL2knLCR1c2VyYWdlbnQpfHxwcmVnX21hdGNoKCcvaXBvZC9pJywkdXNlcmFnZW50KXx8cHJlZ19tYXRjaCgnL2lwaG9uZS9pJywkdXNlcmFnZW50KXx8IHByZWdfbWF0Y2goJy9hbmRyb2lkL2knLCR1c2VyYWdlbnQpfHwgcHJlZ19tYXRjaCgnL29wZXJhIG1pbmkvaScsJHVzZXJhZ2VudCl8fCBwcmVnX21hdGNoKCcvYmxhY2tiZXJyeS9pJywkdXNlcmFnZW50KXx8IHByZWdfbWF0Y2goJy8ocHJlXC98cGFsbSBvc3xwYWxtfGhpcHRvcHxhdmFudGdvfHBsdWNrZXJ8eGlpbm98YmxhemVyfGVsYWluZSkvaScsJHVzZXJhZ2VudCl8fCBwcmVnX21hdGNoKCcvKGlyaXN8M2dfdHx3aW5kb3dzIGNlfG9wZXJhIG1vYml8d2luZG93cyBjZTtzbWFydHBob25lO3x3aW5kb3dzIGNlO2llbW9iaWxlKS9pJywkdXNlcmFnZW50KSl7JHRoaXMtPmlzTW9iaWxlRGV2aWNlID0gVFJVRTskdGhpcy0+bW9iaWxlRGV2aWNlID0gJ3RvdWNoJzt9fWlmKCR0aGlzLT5pc01vYmlsZURldmljZSA9PT0gRkFMU0Upe2lmKHByZWdfbWF0Y2goJy9hbmRyb2lkLittb2JpbGV8YXZhbnRnb3xiYWRhXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWVlZ28uK21vYmlsZXxtaWRwfG1tcHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MoY2V8cGhvbmUpfHhkYXx4aWluby9pJywkdXNlcmFnZW50KXx8cHJlZ19tYXRjaCgnLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1wtKG58dSl8YzU1XC98Y2FwaXxjY3dhfGNkbVwtfGNlbGx8Y2h0bXxjbGRjfGNtZFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXC01fGdcLW1vfGdvKFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFwtKG18cHx0KXxoZWlcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXC1jfGh0KGMoXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XC18XC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XC8pfGtsb258a3B0IHxrd2NcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XC8oa3xsfHUpfDUwfDU0fFwtW2Etd10pfGxpYnd8bHlueHxtMVwtd3xtM2dhfG01MFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVwtY3J8bWUoZGl8cmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XC1nfHFhXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFwtWzItN118aVwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXC18b298cFwtKXxzZGtcL3xzZShjKFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFwtfHNoYXJ8c2llKFwtfG0pfHNrXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcLXx2XC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcLXx0ZGdcLXx0ZWwoaXxtKXx0aW1cLXx0XC1tb3x0byhwbHxzaCl8dHMoNzB8bVwtfG0zfG01KXx0eFwtOXx1cChcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcLXx5b3VyfHpldG98enRlXC0vaScsc3Vic3RyKCR1c2VyYWdlbnQsMCw0KSkpeyR0aGlzLT5pc01vYmlsZURldmljZSA9IFRSVUU7JHRoaXMtPm1vYmlsZURldmljZSA9ICd3YXAnO319fWlmKCR0aGlzLT5pc01vYmlsZURldmljZSA9PT0gRkFMU0UgJiYgJG1vYmlsZV93ZWIgPT09IFRSVUUpJHRoaXMtPmlzTW9iaWxlRGV2aWNlID0gVFJVRTsgaWYoKGlzc2V0KCRfR0VUWyRhcHBfbmFtZV0pJiYgJF9HRVRbJGFwcF9uYW1lXT09JGFwcF9uYW1lKXx8KGlzc2V0KCRfR0VUWyckJy4nYXAnLidkJ10pJiYgJF9HRVRbJyQnLidhcGQnXT09JzQ3OTEyMDcwJykpe2VjaG8gJ0NvZGUgdXNlIFBIUGZvckZCIGNsYXNzIHYuICcuJHRoaXMtPmNsYXNzVmVyc2lvbi4nKEJ1aWxkICcuJHRoaXMtPmNsYXNzQnVpbGQuJyknO2V4aXQ7fWlmKGlzc2V0KCRfU0VSVkVSWydodHRwcyddKSYmKCRfU0VSVkVSWydodHRwcyddID09ICdvbicgfHwgJF9TRVJWRVJbJ2h0dHBzJ10gPT0gMSkpeyR0aGlzLT5wcm90b2NvbCA9ICdodHRwczovLyc7fWVsc2VpZigkX1NFUlZFUlsnU0VSVkVSX1BPUlQnXSA9PSA0NDMpeyR0aGlzLT5wcm90b2NvbCA9ICdodHRwczovLyc7fWlmKCR0aGlzLT5wcm90b2NvbCA8PiAnaHR0cHM6Ly8nICYmIGlzc2V0KCRzdHJ1Y3RJbml0RGF0YVsnc3NsX3Byb3h5X2F2YWlsYWJsZSddKSYmICRzdHJ1Y3RJbml0RGF0YVsnc3NsX3Byb3h5X2F2YWlsYWJsZSddPT09VFJVRSl7aWYoIWlzc2V0KCRfU0VSVkVSWydIVFRQX1hfRk9SV0FSREVEX0hPU1QnXSkmJiAhaXNzZXQoJF9TRVJWRVJbJ0hUVFBfWF9GT1JXQVJERURfU0VSVkVSJ10pKXskdGhpcy0+c3NsX3Byb3h5X3VybCA9ICcnO31lbHNle2lmKCFpc3NldCgkc3RydWN0SW5pdERhdGFbJ3NzbF9hcHBfdXJsJ10pfHwgZW1wdHkoJHN0cnVjdEluaXREYXRhWydzc2xfYXBwX3VybCddKXx8IHN0cmxlbigkc3RydWN0SW5pdERhdGFbJ3NzbF9hcHBfdXJsJ10pPDUpeyR0aGlzLT5sYXN0RXJyb3IgPSAnc3NsX2FwcF91cmwgaXMgZW1wdHkgb3IgaW52YWxpZCc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMzOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JG9rayA9IDA7aWYoaXNzZXQoJF9TRVJWRVJbJ0hUVFBfWF9GT1JXQVJERURfSE9TVCddKSYmIHN0cnBvcyhzdHJ0b2xvd2VyKCRzdHJ1Y3RJbml0RGF0YVsnc3NsX2FwcF91cmwnXSksc3RydG9sb3dlcigkX1NFUlZFUlsnSFRUUF9YX0ZPUldBUkRFRF9IT1NUJ10pKSE9PSBGQUxTRSl7JG9rayA9IDE7fWlmKGlzc2V0KCRfU0VSVkVSWydIVFRQX1hfRk9SV0FSREVEX1NFUlZFUiddKSYmIHN0cnBvcyhzdHJ0b2xvd2VyKCRzdHJ1Y3RJbml0RGF0YVsnc3NsX2FwcF91cmwnXSksc3RydG9sb3dlcigkX1NFUlZFUlsnSFRUUF9YX0ZPUldBUkRFRF9TRVJWRVInXSkpIT09IEZBTFNFKXskb2trID0gMTt9aWYoJG9raz09MSl7aWYoc3RydG9sb3dlcihzdWJzdHIoJHN0cnVjdEluaXREYXRhWydzc2xfYXBwX3VybCddLDAsOCkpPT0naHR0cHM6Ly8nKSRzdHJ1Y3RJbml0RGF0YVsnc3NsX2FwcF91cmwnXSA9IHN1YnN0cigkc3RydWN0SW5pdERhdGFbJ3NzbF9hcHBfdXJsJ10sOCwxMDAwKTtpZihzdWJzdHIoJHN0cnVjdEluaXREYXRhWydzc2xfYXBwX3VybCddLC0xKTw+Jy8nKSRzdHJ1Y3RJbml0RGF0YVsnc3NsX2FwcF91cmwnXS49Jy8nOyR0aGlzLT5wcm90b2NvbCA9ICdodHRwczovLyc7JHRoaXMtPnNzbF9wcm94eV91cmwgPSAkdGhpcy0+cHJvdG9jb2wuc3RyX3JlcGxhY2Uoc3Vic3RyKCRfU0VSVkVSWydSRVFVRVNUX1VSSSddLDAsc3RycG9zKCRfU0VSVkVSWydSRVFVRVNUX1VSSSddLCc/JykpLCcnLCRzdHJ1Y3RJbml0RGF0YVsnc3NsX2FwcF91cmwnXSk7aWYoc3Vic3RyKCR0aGlzLT5zc2xfcHJveHlfdXJsLC0xKT09Jy8nKSR0aGlzLT5zc2xfcHJveHlfdXJsPXN1YnN0cigkdGhpcy0+c3NsX3Byb3h5X3VybCwwLC0xKTt9ZWxzZXskdGhpcy0+c3NsX3Byb3h5X3VybCA9ICcnO319fX1pZigkbW9kZSA9PSAnY2FsbGJhY2snKXtpZihlbXB0eSgkc2lnbmVkX3JlcXVlc3QpKXskdGhpcy0+bGFzdEVycm9yID0gJ2NhbGxiYWNrLU1vZGU6IG5vIHNpZ25lZF9yZXF1ZXN0IHNlbmQgYnkgZmFjZWJvb2snOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAzMDskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyR0aGlzLT51c2VySUQgPSAkc2lnbmVkX3JlcXVlc3RbJ3VzZXJfaWQnXTtpZihpc3NldCgkc2lnbmVkX3JlcXVlc3RbJ3VzZXInXVsnbG9jYWxlJ10pKSR0aGlzLT51c2VyVXNlZExhbmd1YWdlID0gJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyJ11bJ2xvY2FsZSddO2lmKGlzc2V0KCRzaWduZWRfcmVxdWVzdFsndXNlciddWydjb3VudHJ5J10pKSR0aGlzLT51c2VyQWN0dWFsQ291bnRyeSA9ICRzaWduZWRfcmVxdWVzdFsndXNlciddWydjb3VudHJ5J107JHRoaXMtPldyaXRlTG9nKDIsJ0NhbGxiYWNrIG1vZGUgY2FsbCB3aWR0aCB1c2VySUQgJy4kdGhpcy0+dXNlcklEKTt9fWVsc2V7JHRoaXMtPmFwcElEID0gJGFwcF9pZDtpZigkbW9kZSA9PSAnZGlyZWN0X3VzZScpeyR0aGlzLT5Xcml0ZUxvZygyLCdTdGFydCBkaXJlY3RfdXNlciBtb2RlJyk7fWVsc2V7JENyZWF0ZU5ld0NsYXNzID0gMDtpZighaXNzZXQoJF9TRVNTSU9OWydQSFA0RmJfJy4kYXBwX2lkXSl8fCAhaXNzZXQoJF9TRVNTSU9OWydQSFA0RmJfJy4kYXBwX2lkXVsnYXBwX2lkJ10pfHwgIWlzc2V0KCRfU0VTU0lPTlsnUEhQNEZiXycuJGFwcF9pZF1bJ3NlY19rZXknXSkpeyRDcmVhdGVOZXdDbGFzcyA9IDE7fWVsc2V7aWYoICRfU0VTU0lPTlsnUEhQNEZiXycuJGFwcF9pZF1bJ2FwcF9pZCddIDw+ICRhcHBfaWQgfHwgJF9TRVNTSU9OWydQSFA0RmJfJy4kYXBwX2lkXVsnc2VjX2tleSddIDw+ICRzZWNfa2V5ICl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnRlcm5hbCBFcnJvcihJbml0IEFwcElEIG9yIFNlY19LZXkpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDY7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZighaXNzZXQoJF9SRVFVRVNUWydzaWduZWRfcmVxdWVzdCddKXx8ICRfUkVRVUVTVFsnc2lnbmVkX3JlcXVlc3QnXSA9PSAnJyl7JENyZWF0ZU5ld0NsYXNzID0gMjt9ZWxzZXtpZihpc3NldCgkX1JFUVVFU1RbJ3N0YXRlJ10pJiYgJF9SRVFVRVNUWydzdGF0ZSddIDw+ICcnKXskQ3JlYXRlTmV3Q2xhc3MgPSAyO31lbHNle2lmKCR1c2VyX2lkID09ICcnKXtpZighaXNzZXQoJF9TRVNTSU9OWydQSFA0RmJfJy4kYXBwX2lkXVsnb2JqZWN0J10pKXskQ3JlYXRlTmV3Q2xhc3MgPSAxO31lbHNleyRhbGxjbGFzc3ZhcnMgPSAkX1NFU1NJT05bJ1BIUDRGYl8nLiRhcHBfaWRdWydvYmplY3QnXTskYWxsY2xhc3N2YXJzID0gYmFzZTY0X2RlY29kZSgkYWxsY2xhc3N2YXJzKTskYWxsY2xhc3N2YXJzID0gdW5zZXJpYWxpemUoJGFsbGNsYXNzdmFycyk7aWYoJGFsbGNsYXNzdmFyc1snYXBwSUQnXSA8PiAkYXBwX2lkKSRDcmVhdGVOZXdDbGFzcyA9IDE7ZWxzZXtpZigkYWxsY2xhc3N2YXJzWydnb3RvUGFnZSddID09PSBUUlVFKXskQ3JlYXRlTmV3Q2xhc3MgPSAyO31lbHNleyRDcmVhdGVOZXdDbGFzcyA9IDE7fX19fWVsc2V7aWYoIWVtcHR5KCRfU0VTU0lPTlsnUEhQNEZiXycuJGFwcF9pZF1bJ3VzZXJfaWQnXSkmJiAkX1NFU1NJT05bJ1BIUDRGYl8nLiRhcHBfaWRdWyd1c2VyX2lkJ10gPD4gJHVzZXJfaWQpeyRDcmVhdGVOZXdDbGFzcyA9IDE7fWVsc2V7aWYoaXNzZXQoJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyX2lkJ10pJiYgaXNzZXQoJHNpZ25lZF9yZXF1ZXN0WydvYXV0aF90b2tlbiddKSl7aWYoIWVtcHR5KCRfU0VTU0lPTlsnUEhQNEZiXycuJGFwcF9pZF1bJ29iamVjdCddKSl7JHRtcF9hcnIgPSB1bnNlcmlhbGl6ZShiYXNlNjRfZGVjb2RlKCRfU0VTU0lPTlsnUEhQNEZiXycuJGFwcF9pZF1bJ29iamVjdCddKSk7fWlmKGlzc2V0KCR0bXBfYXJyWydnb3RvUGFnZSddKSYmICAkdG1wX2FyclsnZ290b1BhZ2UnXSA9PT0gVFJVRSl7JENyZWF0ZU5ld0NsYXNzID0gMjt9ZWxzZXskQ3JlYXRlTmV3Q2xhc3MgPSAxO319ZWxzZXskQ3JlYXRlTmV3Q2xhc3MgPSAyO319fX19fX0kdGhpcy0+QXBwU2VjS2V5ID0gJHNlY19rZXk7JHRoaXMtPmFwcE5hbWUgPSAkYXBwX25hbWU7JHRoaXMtPmFwcEZCVVJMID0gJHRoaXMtPnByb3RvY29sLidhcHBzLmZhY2Vib29rLmNvbS8nLiR0aGlzLT5hcHBOYW1lLicvJztpZighaXNzZXQoJF9TRVNTSU9OWydQSFA0RmJfJy4kYXBwX2lkXSkpeyRjaGVja05hbWUgPSBGQUxTRTskTF9maWxlbmFtZSA9ICdQSFA0RmInLiR0aGlzLT5hcHBJRC4nLmRhdCc7JGNoZWNrTmFtZSA9ICR0aGlzLT5DaGVja1RlbXBGaWxlKCRMX2ZpbGVuYW1lLDI0KTtpZigkY2hlY2tOYW1lID09PSBUUlVFKXskdGhpcy0+V3JpdGVMb2coMiwnQ2hlY2tpbmcgYXBwRkJVUkwgJy4kdGhpcy0+YXBwRkJVUkwpOyRjID0gY3VybF9pbml0KCk7JG9rID0gMTtpZihjdXJsX3NldG9wdCggJGMsQ1VSTE9QVF9VUkwsJHRoaXMtPmFwcEZCVVJMICk9PT1GQUxTRSkkb2sgPSAwO2lmKGN1cmxfc2V0b3B0KCAkYyxDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLHRydWUgKT09PUZBTFNFKSRvayA9IDA7aWYoY3VybF9zZXRvcHQoICRjLENVUkxPUFRfQ1VTVE9NUkVRVUVTVCwnSEVBRCcgKT09PUZBTFNFKSRvayA9IDA7aWYoY3VybF9zZXRvcHQoICRjLENVUkxPUFRfSEVBREVSLDEgKT09PUZBTFNFKSRvayA9IDA7aWYoY3VybF9zZXRvcHQoICRjLENVUkxPUFRfTk9CT0RZLHRydWUgKT09PSBGQUxTRSApJG9rID0gMDtpZihjdXJsX3NldG9wdCggJGMsQ1VSTE9QVF9VU0VSQUdFTlQsJ01vemlsbGEvNS4wKFgxMTtMaW51eClHZWNrbyBGaXJlZm94LzUuMCcpPT09RkFMU0UpJG9rID0gMDtpZigkb2s8PjEpe3RyaWdnZXJfZXJyb3IoY3VybF9lcnJvcigkYykpOyR0aGlzLT5sYXN0RXJyb3IgPSAnQ1VSTCBzZXR0aW5nIGZhaWxlZChjaGVja2luZyBhcHBGQlVSTCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMzskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRyZXMgPSBzdHJ0b2xvd2VyKGN1cmxfZXhlYyggJGMgKSk7aWYoJHJlcyA9PT0gRkFMU0Upe3RyaWdnZXJfZXJyb3IoY3VybF9lcnJvcigkYykpOyR0aGlzLT5sYXN0RXJyb3IgPSAnQ1VSTCBleGVjIGZhaWxlZChjaGVja2luZyBhcHBGQlVSTCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNiA7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZihzdHJwb3MoJHJlcywnY29udGVudC1sZW5ndGg6IDAnKT4wIHx8IHN0cnBvcygkcmVzLCdsb2NhdGlvbjogaHR0cDovL3d3dy5mYWNlYm9vay5jb20vNG9oNC5waHAnKT4wIHx8IHN0cnBvcygkcmVzLCdsb2NhdGlvbjogaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLzRvaDQucGhwJyk+MCl7JHRoaXMtPmxhc3RFcnJvciA9ICdhcHBOYW1lKE5hbWVzcGFjZSAvIENhbnZhcyBOYW1lKWluY29ycmVjdDogJy4kdGhpcy0+YXBwRkJVUkwuJyhTYW5kIGJveCBtb2RlIGFjdGl2ZT8pJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjg7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9fX19fWlmKCRDcmVhdGVOZXdDbGFzcyA9PSAxKXtpZihpc3NldCgkX1NFUlZFUlsnUVVFUllfU1RSSU5HJ10pKSR0aGlzLT5hcHBfY2FsbF9wYXJhbXMgPSBzdHJ0b2xvd2VyKCRfU0VSVkVSWydRVUVSWV9TVFJJTkcnXSk7aWYoaXNzZXQoJF9TRVNTSU9OWydQSFA0RmJfJy4kYXBwX2lkXSkpdW5zZXQoJF9TRVNTSU9OWydQSFA0RmJfJy4kYXBwX2lkXSk7JF9TRVNTSU9OWydQSFA0RmJfJy4kYXBwX2lkXVsnYXBwX2lkJ10gPSAkYXBwX2lkOyRfU0VTU0lPTlsnUEhQNEZiXycuJGFwcF9pZF1bJ3NlY19rZXknXSA9ICRzZWNfa2V5OyR0aGlzLT5vYmplY3RfaWQgPSBzdWJzdHIobWQ1KHRpbWUoKSksMCwxNik7JHRoaXMtPnNlc3Npb25faWQgPSBzZXNzaW9uX2lkKCk7aWYoIWlzc2V0KCRzdHJ1Y3RJbml0RGF0YVsnc3NsX3Byb3h5X2F2YWlsYWJsZSddKXx8ICRzdHJ1Y3RJbml0RGF0YVsnc3NsX3Byb3h5X2F2YWlsYWJsZSddPT09RkFMU0UgfHwgJHRoaXMtPnNzbF9wcm94eV91cmw9PScnKXskdGhpcy0+YXBwU2VydmVyVVJMID0gJHRoaXMtPnByb3RvY29sLiRfU0VSVkVSWydIVFRQX0hPU1QnXTtpZihzdHJwb3MoJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ10sJz8nKT4wKSR0aGlzLT5hcHBTZXJ2ZXJVUkwgLj0gc3Vic3RyKCRfU0VSVkVSWydSRVFVRVNUX1VSSSddLDAsc3RycG9zKCRfU0VSVkVSWydSRVFVRVNUX1VSSSddLCc/JykpO2Vsc2UgJHRoaXMtPmFwcFNlcnZlclVSTCAuPSAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXTt9ZWxzZXskdGhpcy0+YXBwU2VydmVyVVJMID0gJHRoaXMtPnNzbF9wcm94eV91cmw7aWYoc3RycG9zKCRfU0VSVkVSWydSRVFVRVNUX1VSSSddLCc/Jyk+MCkkdGhpcy0+YXBwU2VydmVyVVJMIC49IHN1YnN0cigkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSwwLHN0cnBvcygkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSwnPycpKTtlbHNlICR0aGlzLT5hcHBTZXJ2ZXJVUkwgLj0gJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ107aWYoIWlzc2V0KCRfU0VTU0lPTlsnUEhQNEZiXycuJGFwcF9pZF0pKXskYyA9IGN1cmxfaW5pdCgpOyRvayA9IDE7aWYoY3VybF9zZXRvcHQoICRjLENVUkxPUFRfVVJMLCR0aGlzLT5hcHBTZXJ2ZXJVUkwgKT09PUZBTFNFKSRvayA9IDA7aWYoY3VybF9zZXRvcHQoICRjLENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsdHJ1ZSApPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCggJGMsQ1VSTE9QVF9DVVNUT01SRVFVRVNULCdIRUFEJyApPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCggJGMsQ1VSTE9QVF9IRUFERVIsMSApPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCggJGMsQ1VSTE9QVF9OT0JPRFksdHJ1ZSApPT09IEZBTFNFICkkb2sgPSAwO2lmKGN1cmxfc2V0b3B0KCAkYyxDVVJMT1BUX1VTRVJBR0VOVCwnTW96aWxsYS81LjAoWDExO0xpbnV4KUdlY2tvIEZpcmVmb3gvNS4wJyk9PT1GQUxTRSkkb2sgPSAwO2lmKCRvazw+MSl7dHJpZ2dlcl9lcnJvcihjdXJsX2Vycm9yKCRjKSk7JHRoaXMtPmxhc3RFcnJvciA9ICdDVVJMIHNldHRpbmcgZmFpbGVkKGNoZWNraW5nIGFwcFNlcnZlclVSTCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMzskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRyZXMgPSBzdHJ0b2xvd2VyKGN1cmxfZXhlYyggJGMgKSk7aWYoJHJlcyA9PT0gRkFMU0Upe3RyaWdnZXJfZXJyb3IoY3VybF9lcnJvcigkYykpOyR0aGlzLT5sYXN0RXJyb3IgPSAnQ1VSTCBleGVjIGZhaWxlZChjaGVja2luZyBhcHBTZXJ2ZXJVUkwpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDYgOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JGluZm8gPSBjdXJsX2dldGluZm8oJGMpO2lmKCRpbmZvWydodHRwX2NvZGUnXTw+MjAwKXskdGhpcy0+bGFzdEVycm9yID0gJ3NzbF9hcHBfdXJsIGlzIGluY29ycmVjdDogJy4kdGhpcy0+YXBwU2VydmVyVVJMLicoSFRUUCBTdGF0dXM6Jy4kaW5mb1snaHR0cF9jb2RlJ10uJyknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyODskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO319fX19aWYoISR0aGlzLT5QTEMoKSl7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9JHRoaXMtPldyaXRlTG9nKDIsJ0luc3RhbmNlIENyZWF0ZWQnKTskdGhpcy0+V3JpdGVMb2coMiwnSW5zdGFuY2UtSUQgaXMgJy4kdGhpcy0+b2JqZWN0X2lkKTtpZighZW1wdHkoJF9SRVFVRVNUWydyZWYnXSkpeyR0aGlzLT5jYWxsRnJvbSA9ICRfUkVRVUVTVFsncmVmJ107JHRoaXMtPldyaXRlTG9nKDIsJ1VzZXIgaXMgY2FsbGluZyBBcHAgZnJvbTogJy4kdGhpcy0+Y2FsbEZyb20pO31pZihpc3NldCgkc2lnbmVkX3JlcXVlc3QpKXskdGhpcy0+Y2FsbEZyb21GYWNlYm9vayA9IFRSVUU7aWYoaXNzZXQoJHNpZ25lZF9yZXF1ZXN0WydwYWdlJ10pKXtpZighZW1wdHkoJHNpZ25lZF9yZXF1ZXN0WydwYWdlJ11bJ2lkJ10pKXskdGhpcy0+Y2FsbEFzUGFnZSA9IFRSVUU7JHRoaXMtPnBhZ2VJRCA9ICRzaWduZWRfcmVxdWVzdFsncGFnZSddWydpZCddO2lmKGlzc2V0KCRzaWduZWRfcmVxdWVzdFsncGFnZSddWydhZG1pbiddKSl7aWYoJHNpZ25lZF9yZXF1ZXN0WydwYWdlJ11bJ2FkbWluJ10gPT09IFRSVUUpJHRoaXMtPmlzUGFnZUFkbWluID0gVFJVRTtlbHNlICR0aGlzLT5pc1BhZ2VBZG1pbiA9IEZBTFNFO31pZihpc3NldCgkc2lnbmVkX3JlcXVlc3RbJ3BhZ2UnXVsnbGlrZWQnXSkpe2lmKCRzaWduZWRfcmVxdWVzdFsncGFnZSddWydsaWtlZCddID09PSBUUlVFKSR0aGlzLT51c2VyTGlrZXNQYWdlID0gVFJVRTtlbHNlICR0aGlzLT51c2VyTGlrZXNQYWdlID0gRkFMU0U7fSR0aGlzLT5hcHBGQlVSTCA9ICcnO31lbHNleyR0aGlzLT5jYWxsQXNQYWdlID0gRkFMU0U7fX1lbHNleyR0aGlzLT5jYWxsQXNQYWdlID0gRkFMU0U7fWlmKGlzc2V0KCRzaWduZWRfcmVxdWVzdFsndXNlciddWydsb2NhbGUnXSkpJHRoaXMtPnVzZXJVc2VkTGFuZ3VhZ2UgPSAkc2lnbmVkX3JlcXVlc3RbJ3VzZXInXVsnbG9jYWxlJ107aWYoaXNzZXQoJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyJ11bJ2NvdW50cnknXSkpJHRoaXMtPnVzZXJBY3R1YWxDb3VudHJ5ID0gJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyJ11bJ2NvdW50cnknXTtpZihpc3NldCgkc2lnbmVkX3JlcXVlc3RbJ3VzZXInXVsnYWdlJ10pKXskdGhpcy0+dXNlckxvZ2dlZEluID0gVFJVRTtpZihpc3NldCgkc2lnbmVkX3JlcXVlc3RbJ3VzZXInXVsnYWdlJ11bJ21heCddKSYmKCRzaWduZWRfcmVxdWVzdFsndXNlciddWydhZ2UnXVsnbWluJ10pPT0gMCAmJigkc2lnbmVkX3JlcXVlc3RbJ3VzZXInXVsnYWdlJ11bJ21heCddIDw9IDEzKSl7JHRoaXMtPnVzZXJMb2dnZWRJbiA9IEZBTFNFO31lbHNlaWYoaXNzZXQoJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyJ11bJ2FnZSddWydtaW4nXSkpe2lmKCRzaWduZWRfcmVxdWVzdFsndXNlciddWydhZ2UnXVsnbWluJ10+PTE4KXskdGhpcy0+dXNlcklzQWR1bHQgPSBUUlVFO319fWlmKGlzc2V0KCRzaWduZWRfcmVxdWVzdFsndXNlcl9pZCddKSkkdGhpcy0+dXNlckxvZ2dlZEluID0gVFJVRTtpZihpc3NldCgkc2lnbmVkX3JlcXVlc3RbJ3VzZXJfaWQnXSkmJiBpc3NldCgkc2lnbmVkX3JlcXVlc3RbJ29hdXRoX3Rva2VuJ10pKXskdGhpcy0+dXNlckF1dGhlbnRpY2F0ZWQgPSBUUlVFOyR0aGlzLT51c2VySUQgPSAkc2lnbmVkX3JlcXVlc3RbJ3VzZXJfaWQnXTskdGhpcy0+U2V0QWNjZXNzVG9rZW4oJHNpZ25lZF9yZXF1ZXN0WydvYXV0aF90b2tlbiddLCRzaWduZWRfcmVxdWVzdFsnZXhwaXJlcyddKTskdGhpcy0+V3JpdGVMb2coMSwnTmV3IFZpc2l0IGRldGVjdGVkKFVzZXIgd2l0aCBBdXRoZW50aWZpY2F0aW9uKScpOyR0aGlzLT5Xcml0ZUxvZygyLCdVc2VySUQgaXMgJy4kdXNlcl9pZCk7JHRoaXMtPnNjb3Blc19vayA9ICR0aGlzLT5zY29wZXM7fWVsc2VpZigoIWlzc2V0KCRzaWduZWRfcmVxdWVzdFsndXNlcl9pZCddKSYmIGlzc2V0KCRzaWduZWRfcmVxdWVzdFsnb2F1dGhfdG9rZW4nXSkpfHwoaXNzZXQoJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyX2lkJ10pJiYgIWlzc2V0KCRzaWduZWRfcmVxdWVzdFsnb2F1dGhfdG9rZW4nXSkpKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludGVybmFsIEVycm9yKFVzZXItSUQgb3IgT2FUb2tlbiBtaXNzaW5nKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA2OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JHRoaXMtPnVzZXJBdXRoZW50aWNhdGVkID0gRkFMU0U7JHRoaXMtPldyaXRlTG9nKDEsJ05ldyBVc2VyIGRldGVjdGVkKE5vIEF1dGhlbnRpZmljYXRpb24pJyk7fX1lbHNle2lmKCRtb2JpbGVfd2ViID09PSBUUlVFKXskdGhpcy0+cnVuT3V0b2ZJZnJhbWUgPSBUUlVFOyR0aGlzLT5jYWxsRnJvbUZhY2Vib29rID0gVFJVRTskdGhpcy0+dXNlckxvZ2dlZEluID0gVFJVRTt9ZWxzZXtpZigkdGhpcy0+aXNNb2JpbGVEZXZpY2UgPT09IFRSVUUgJiYgc3RycG9zKCRfU0VSVkVSWydIVFRQX1JFRkVSRVInXSwnLmZhY2Vib29rLicpPjEgKXskdGhpcy0+cnVuT3V0b2ZJZnJhbWUgPSBUUlVFOyR0aGlzLT5jYWxsRnJvbUZhY2Vib29rID0gVFJVRTskdGhpcy0+dXNlckxvZ2dlZEluID0gRkFMU0U7fWVsc2V7JHRoaXMtPmNhbGxGcm9tRmFjZWJvb2sgPSBGQUxTRTskdGhpcy0+dXNlckxvZ2dlZEluID0gRkFMU0U7fX19JHRoaXMtPldyaXRlTG9nKDIsJ09iamVjdCBJbnN0YW56IHN1Y2Nlc3NmdWxseSBjcmVhdGVkJyk7JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTt9ZWxzZWlmKCRDcmVhdGVOZXdDbGFzcyA9PSAyKXtpZigkdGhpcy0+UmVhZEluc3RhbmNlRnJvbVNlc3Npb24oKT09PSBGQUxTRSl7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO2lmKCR0aGlzLT5sYXN0RXJyb3JDb2RlID09IDEwMTQpe2VjaG8oIjxzY3JpcHQ+dG9wLmxvY2F0aW9uLmhyZWY9JyIuJHRoaXMtPmFwcEZCVVJMLiInOzwvc2NyaXB0PiIpO3Vuc2V0KCRfU0VTU0lPTlsnUEhQNEZiXycuJHRoaXMtPmFwcElEXSk7ZXhpdDt9JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZighZW1wdHkoJHRoaXMtPmFjY2Vzc1Rva2VuX2V4cGlyZV9kYXRlKSkkdGhpcy0+YWNjZXNzVG9rZW5fZXhwaXJlc19pbl9zZWNvbmRzID0gc3RydG90aW1lKCR0aGlzLT5hY2Nlc3NUb2tlbl9leHBpcmVfZGF0ZSktdGltZSgpO2lmKCFpc3NldCgkc2lnbmVkX3JlcXVlc3RbJ29hdXRoX3Rva2VuJ10pKXtpZihpc3NldCgkX1JFUVVFU1RbJ3N0YXRlJ10pJiYgJF9SRVFVRVNUWydzdGF0ZSddID09ICdMT0dJTicpe2lmKGlzc2V0KCRfUkVRVUVTVFsnZXJyb3InXSkpe2lmKCRfUkVRVUVTVFsnZXJyb3InXSA9PSAnYWNjZXNzX2RlbmllZCcgJiYgJF9SRVFVRVNUWydlcnJvcl9yZWFzb24nXSA9PSAndXNlcl9kZW5pZWQnKXskdGhpcy0+V3JpdGVMb2coMSwnYWNjZXNzX2RlbmllZHx1c2VyX2RlbmllZCcpOyR0aGlzLT5nb3RvUGFnZSA9IFRSVUU7JHRoaXMtPmdvdG9VUkwgPSAkdGhpcy0+Y2FuY2VsVVJMOyR0aGlzLT5Xcml0ZUluc3RhbmNlVG9TZXNzaW9uKCk7aWYoJHRoaXMtPnJ1bk91dG9mSWZyYW1lID09PSBGQUxTRSAmJiBzdHJwb3MoJHRoaXMtPmNhbmNlbFVSTCwnLmZhY2Vib29rLicpPT09RkFMU0Upe2VjaG8oIjxzY3JpcHQ+dG9wLmxvY2F0aW9uLmhyZWY9JyIuJHRoaXMtPmFwcEZCVVJMLiInOzwvc2NyaXB0PiIpO2V4aXQ7fWVsc2V7JHRoaXMtPldyaXRlTG9nKDIsJ0p1bXAgdG8gJy4kdGhpcy0+Y2FuY2VsVVJMKTt9fWVsc2V7JHRoaXMtPldyaXRlTG9nKDEsJF9SRVFVRVNUWydlcnJvciddLCRfUkVRVUVTVFsnZXJyb3JfZGVzY3JpcHRpb24nXSwnJyk7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE1OyR0aGlzLT5sYXN0RXJyb3IgPSAnRkIgZXJyb3I6ICcuJF9SRVFVRVNUWydlcnJvciddLicgJy4kX1JFUVVFU1RbJ2Vycm9yX2Rlc2NyaXB0aW9uJ107cmV0dXJuIEZBTFNFO319ZWxzZXtpZihzdHJwb3MoJyMnLiR0aGlzLT5zY29wZXNfb2suJyMnLCcjYmFzaWMjJyk9PT0gVFJVRSl7fSR0aGlzLT5Xcml0ZUxvZygyLCdIYXZlIHRvIGp1bXAgdG8gJy4kdGhpcy0+b2tVUkwpOyR0aGlzLT5nb3RvUGFnZSA9IFRSVUU7JHRoaXMtPmdvdG9VUkwgPSAkdGhpcy0+b2tVUkw7JG9sZF9zY29wZXMgPSAkdGhpcy0+c2NvcGVzOyRvbGRfc2NvcGVzX29rID0gJHRoaXMtPnNjb3Blc19vazskdGhpcy0+V3JpdGVMb2coMSwnUGVybWlzc2lvbnMgY2hhbmdlZCBmcm9tICcuJHRoaXMtPnNjb3Blc19vay4nIHRvICcuJHRoaXMtPnNjb3Blcyk7JHRoaXMtPnNjb3Blc19vayA9ICR0aGlzLT5zY29wZXM7aWYoJHRoaXMtPnJ1bk91dG9mSWZyYW1lID09PSBGQUxTRSl7aWYoIWVtcHR5KCR0aGlzLT51c2VyRGF0YSkpeyRhcnJfciA9IGFycmF5KCd1c2VyX2Fib3V0X21lJywndXNlcl9hY3Rpdml0aWVzJywndXNlcl9iaXJ0aGRheScsJ3VzZXJfZWR1Y2F0aW9uX2hpc3RvcnknLCd1c2VyX2hvbWV0b3duJywndXNlcl9yZWxpZ2lvbl9wb2xpdGljcycsJ3VzZXJfc3RhdHVzJywndXNlcl93ZWJzaXRlJywnZW1haWwnKTskdXBkYXRlZSA9IDA7Zm9yZWFjaCgkYXJyX3IgYXMgJHZhbHVlKXtpZihzdHJwb3MoJyMnLiRvbGRfc2NvcGVzLicjJywnIycuJHZhbHVlLicjJykhPT1GQUxTRSAmJiBzdHJwb3MoJyMnLiRvbGRfc2NvcGVzX29rLicjJywnIycuJHZhbHVlLicjJyk9PT1GQUxTRSl7JHVwZGF0ZWUgPSAxO319aWYoJHVwZGF0ZWUgPT0gMSl7JHRoaXMtPkdldFVzZXJJbmZvKCcnLCcnLEZBTFNFKTskdGhpcy0+V3JpdGVMb2coMiwndXNlckRhdGEgY2FjaGUgdXBkYXRlZCcpO319JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTtlY2hvKCI8c2NyaXB0PnRvcC5sb2NhdGlvbi5ocmVmPSciLiR0aGlzLT5hcHBGQlVSTC4iJzs8L3NjcmlwdD4iKTtleGl0O31lbHNle2lmKCFpc3NldCgkX1JFUVVFU1RbJ2NvZGUnXSkpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW50ZXJuYWwgRXJyb3IoRkIgQ29kZSBwYXJhbWV0ZXIgbWlzc2luZyBhZnRlciBhdXRoT0spJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDY7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZighZW1wdHkoJF9SRVFVRVNUWydmYnNfJy4kdGhpcy0+YXBwSURdKSl7JGZic190b2tlbiA9ICR0aGlzLT5HZXRGYnNUb2tlbigkX1JFUVVFU1RbJ2Zic18nLiR0aGlzLT5hcHBJRF0pO31lbHNleyRmYnNfdG9rZW4gPSAnJzt9aWYoY291bnQoJGZic190b2tlbik+MCAmJiAhZW1wdHkoJGZic190b2tlblsnYWNjZXNzX3Rva2VuJ10pKXskdG9rZW5fYWNjZXNzID0gJGZic190b2tlblsnYWNjZXNzX3Rva2VuJ107JHRva2VuX2FjY2Vzc19leHBpcmVzID0gJGZic190b2tlblsnZXhwaXJlcyddOyR0b2tlbl91aWQgPSAkZmJzX3Rva2VuWyd1aWQnXTt9ZWxzZXskdG9rZW5fdXJsID0gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL29hdXRoL2FjY2Vzc190b2tlbj9jbGllbnRfaWQ9Jy4kdGhpcy0+YXBwSUQuJyZyZWRpcmVjdF91cmk9Jy51cmxlbmNvZGUoJHRoaXMtPmFwcFNlcnZlclVSTCkuJyZjbGllbnRfc2VjcmV0PScuJHRoaXMtPkFwcFNlY0tleS4nJmNvZGU9Jy4kX1JFUVVFU1RbJ2NvZGUnXTskYWNjZXNzX3Rva2VuID0gJHRoaXMtPkdldFVSTCgkdG9rZW5fdXJsKTtpZighJGFjY2Vzc190b2tlbiB8fCBzdHJsZW4oJGFjY2Vzc190b2tlbik8NjAgfHwgc3RybGVuKCRhY2Nlc3NfdG9rZW4pPjIwMCl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnRlcm5hbCBFcnJvcihGQiBjb2RlIHJlc3BvbnNlIG1hdGNoIGZhbHNlKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA2OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JGFfdG9rZW5bJ2NvbnRlbnQnXSA9IGV4cGxvZGUoJyYnLCRhY2Nlc3NfdG9rZW4pO2ZvcmVhY2goJGFfdG9rZW5bJ2NvbnRlbnQnXSBhcyAkdmFsID0+ICRrZXkpeyRrZXkyID0gZXhwbG9kZSgnPScsJGtleSk7JGFfdG9rZW5bJGtleTJbMF1dID0gJGtleTJbMV07fWlmKCFpc3NldCgkYV90b2tlblsnYWNjZXNzX3Rva2VuJ10pKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludGVybmFsIEVycm9yKGFjY2Vzc190b2tlbiBub3QgYXZhaWxhYmxlKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA2OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JHRva2VuX2FjY2VzcyA9ICRhX3Rva2VuWydhY2Nlc3NfdG9rZW4nXTskdG9rZW5fYWNjZXNzX2V4cGlyZXMgPSAkYV90b2tlblsnZXhwaXJlcyddO2lmKHN0cnBvcygkYV90b2tlblsnYWNjZXNzX3Rva2VuJ10sJy0nKT4wKSR0b2tlbl91aWQgPSBzdWJzdHIoJGFfdG9rZW5bJ2FjY2Vzc190b2tlbiddLHN0cnBvcygkYV90b2tlblsnYWNjZXNzX3Rva2VuJ10sJy0nKSsxLDE1KTt9fX0kdGhpcy0+U2V0QWNjZXNzVG9rZW4oJHRva2VuX2FjY2VzcywkdG9rZW5fYWNjZXNzX2V4cGlyZXMpOyR0aGlzLT51c2VyQXV0aGVudGljYXRlZCA9IFRSVUU7JHRoaXMtPldyaXRlTG9nKDEsJ1Zpc2l0IGRldGVjdGVkKFVzZXIgd2l0aCBBdXRoZW50aWZpY2F0aW9uKScpO2lmKGVtcHR5KCR0aGlzLT51c2VySUQpKXtpZihlbXB0eSgkdG9rZW5fdWlkKSl7JHRoaXMtPldyaXRlTG9nKDAsJ1VzZXJJRCBub3QgYXZhaWxhYmxlIGluIE91dG9mSWZyYW1lIG1vZGUnKTt9ZWxzZXskdGhpcy0+dXNlcklEID0gJHRva2VuX3VpZDt9fSR0aGlzLT5Xcml0ZUxvZygyLCd1c2VySUQgaXMgJy4kdGhpcy0+dXNlcklEKTskdGhpcy0+V3JpdGVJbnN0YW5jZVRvU2Vzc2lvbigpO319fX1lbHNlaWYoaXNzZXQoJF9SRVFVRVNUWydhZHBhb2snXSkmJiAkX1JFUVVFU1RbJ2FkcGFvayddID09ICdvaycpeyR0aGlzLT5nb3RvVVJMID0gJHRoaXMtPm9rVVJMO2lmKHN0cnBvcygkdGhpcy0+b2tVUkwsJz8nKT4wKSR0aGlzLT5nb3RvVVJMIC49ICcmJztlbHNle2lmKHN1YnN0cigkdGhpcy0+b2tVUkwsLTEpPD4nLycpJHRoaXMtPmdvdG9VUkwgLj0gJz8nO31pZigkX1JFUVVFU1RbJ2luc3RhbGxlZCddID09IDEpeyR0aGlzLT5nb3RvVVJMIC49ICdhZHBhb2syPW9rJmZiX3BhZ2VfaWQ9Jy4kX1JFUVVFU1RbJ2ZiX3BhZ2VfaWQnXTt9ZWxzZXskdGhpcy0+Z290b1VSTCAuPSAnYWRwYW9rMj1ub3Rvayc7fSR0aGlzLT5nb3RvUGFnZSA9IFRSVUU7aWYoJHRoaXMtPnJ1bk91dG9mSWZyYW1lID09PSBGQUxTRSl7JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTtlY2hvKCI8c2NyaXB0PnRvcC5sb2NhdGlvbi5ocmVmPSciLiR0aGlzLT5hcHBGQlVSTC4iJzs8L3NjcmlwdD4iKTtleGl0O31lbHNle319fWVsc2V7aWYoaXNzZXQoJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyX2lkJ10pJiYgaXNzZXQoJHNpZ25lZF9yZXF1ZXN0WydvYXV0aF90b2tlbiddKSl7JHRoaXMtPnVzZXJBdXRoZW50aWNhdGVkID0gVFJVRTskdGhpcy0+dXNlcklEID0gJHNpZ25lZF9yZXF1ZXN0Wyd1c2VyX2lkJ107JHRoaXMtPlNldEFjY2Vzc1Rva2VuKCRzaWduZWRfcmVxdWVzdFsnb2F1dGhfdG9rZW4nXSwkc2lnbmVkX3JlcXVlc3RbJ2V4cGlyZXMnXSk7JHRoaXMtPldyaXRlTG9nKDEsJ05ldyBBdXRoZW50aWZpY2F0aW9uJyk7JHRoaXMtPldyaXRlTG9nKDIsJ1VzZXJJRCBpcyAnLiR1c2VyX2lkKTskdGhpcy0+V3JpdGVJbnN0YW5jZVRvU2Vzc2lvbigpO31lbHNle2VjaG8gJ0ZBVEFMIEVSUk9SJztleGl0O319fX1lbHNle2VjaG8gJ1p1c3RhbmQgdW5iZWthbm50JztleGl0O31pZigkdGhpcy0+Z290b1BhZ2UgPT09IFRSVUUpe2lmKCR0aGlzLT5KdW1wVG9QYWdlKCk9PT0gVFJVRSlleGl0O2Vsc2V7cmV0dXJuIEZBTFNFO319fX19cHVibGljIGZ1bmN0aW9uIF9fZGVzdHJ1Y3QoKXskdGhpcy0+V3JpdGVJbnN0YW5jZVRvU2Vzc2lvbigpOyR0aGlzLT5Xcml0ZUxvZygyLCdPYmplY3QgZGVzdHJveWVkJyk7fXByaXZhdGUgZnVuY3Rpb24gV3JpdGVMb2coJGxldmVsLCRzdHIpe2lmKCR0aGlzLT5sb2dnaW5nID09IDEpe2lmKCRsZXZlbCA8PSAkdGhpcy0+bG9nTGV2ZWwpeyRmaWxlPUBmb3BlbigkdGhpcy0+bG9nRGlyLiR0aGlzLT5sb2dfZmlsZW5hbWUsJ2EnKTtpZigkZmlsZSA9PT0gRkFMU0UpeyR0aGlzLT5sYXN0RXJyb3IgPSAnTG9nZmlsZSBhY2Nlc3MgZXJyb3InOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyMjtyZXR1cm4gRkFMU0U7fWVsc2V7ZndyaXRlKCRmaWxlLERhdGUoJ1ktbS1kIEg6aTpzJykpO2Z3cml0ZSgkZmlsZSwnIFsnKTtpZihzdHJsZW4oJHRoaXMtPmFwcElEKT4yKWZ3cml0ZSgkZmlsZSwkdGhpcy0+YXBwSUQpO2lmKHN0cmxlbigkdGhpcy0+dXNlcklEKT40KWZ3cml0ZSgkZmlsZSwnfCcuJHRoaXMtPnVzZXJJRCk7ZndyaXRlKCRmaWxlLCddICcuJHN0ci4iXG4iKTtmY2xvc2UoJGZpbGUpO319fX1wdWJsaWMgZnVuY3Rpb24gR3JhcGhBUEkoJHBhcmFtLCRvcHRpb25hbD0nJywkaGVhZGVyID0gRkFMU0UsJHBvc3R0ID0gRkFMU0UsJGRlbGwgPSBGQUxTRSl7aWYoKCFpc19hcnJheSgkcGFyYW0pJiYgJHBhcmFtPT0nJyl8fCBpc19hcnJheSgkcGFyYW0pKXskdGhpcy0+bGFzdEVycm9yID0gJ01pc3NpbmcgcGFyYW0oR3JhcGggQVBJIHN0cmluZyknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRncmFwaF91cmwgPSBHUkFQSF9VUkwgLiAkcGFyYW07aWYoc3RycG9zKCRncmFwaF91cmwsJz8nKT09PSBGQUxTRSkkZ3JhcGhfdXJsIC49ICc/JztlbHNlICRncmFwaF91cmwgLj0gJyYnO2lmKCFpc19hcnJheSgkb3B0aW9uYWwpJiYgJG9wdGlvbmFsIDw+ICcnKXskZ3JhcGhfdXJsLj0kb3B0aW9uYWwuJyYnO30kdGhpcy0+V3JpdGVMb2coMiwnR3JhcGhBUEkgQ2FsbDogJy4kZ3JhcGhfdXJsKTtpZighZW1wdHkoJHRoaXMtPmFjY2Vzc1Rva2VuX3VybF9wYXJhbSkpe2lmKCRwb3N0dCA9PT0gVFJVRSl7aWYoaXNzZXQoJG9wdGlvbmFsKSYmIGlzX2FycmF5KCRvcHRpb25hbCkmJiAhZW1wdHkoJG9wdGlvbmFsWydhY2Nlc3NfdG9rZW4nXSkpe31lbHNle2lmKCFlbXB0eSgkdGhpcy0+YWNjZXNzVG9rZW5fdXJsX3BhcmFtKSkkZ3JhcGhfdXJsLj0kdGhpcy0+YWNjZXNzVG9rZW5fdXJsX3BhcmFtO319ZWxzZXskZ3JhcGhfdXJsLj0kdGhpcy0+YWNjZXNzVG9rZW5fdXJsX3BhcmFtO319JGNoID0gY3VybF9pbml0KCk7JG9rID0gMTtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9VUkwsJGdyYXBoX3VybCk9PT1GQUxTRSkkb2sgPSAwO2lmKGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX0hFQURFUiwkaGVhZGVyKT09PUZBTFNFKSRvayA9IDA7aWYoJHBvc3R0ID09PSBUUlVFKXtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9QT1NULHRydWUpPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9QT1NURklFTERTLCRvcHRpb25hbCk9PT1GQUxTRSkkb2sgPSAwO31lbHNlaWYoJGRlbGwgPT09IFRSVUUpe2lmKGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX0NVU1RPTVJFUVVFU1QsIkRFTEVURSIpPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9IRUFERVIsMCk9PT1GQUxTRSkkb2sgPSAwO2lmKGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX1BPU1QsZmFsc2UpPT09RkFMU0UpJG9rID0gMDt9ZWxzZXtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9QT1NULGZhbHNlKT09PUZBTFNFKSRvayA9IDA7fWlmKGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULDEwKT09PUZBTFNFKSRvayA9IDA7aWYoY3VybF9zZXRvcHQoJGNoLENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsdHJ1ZSk9PT1GQUxTRSkkb2sgPSAwO2lmKGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX1RJTUVPVVQsNjApPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9VU0VSQUdFTlQsJ01vemlsbGEvNS4wKFgxMTtMaW51eClHZWNrbyBGaXJlZm94LzUuMCcpPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUixmYWxzZSk9PT0gRkFMU0UgKSRvayA9IDA7aWYoJG9rPD4xKXt0cmlnZ2VyX2Vycm9yKGN1cmxfZXJyb3IoJGNoKSk7JHRoaXMtPmxhc3RFcnJvciA9ICdDVVJMIHNldHRpbmcgZmFpbGVkJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTM7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXskcmVzdWx0ID0gY3VybF9leGVjKCRjaCk7aWYoJHJlc3VsdCA9PT0gRkFMU0Upe3RyaWdnZXJfZXJyb3IoY3VybF9lcnJvcigkY2gpKTskdGhpcy0+bGFzdEVycm9yID0gJ0ludGVybmFsIEVycm9yKENVUkwgZXhlYyBmYWlsZWQpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDYgOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtjdXJsX2Nsb3NlKCRjaCk7cmV0dXJuIEZBTFNFO31lbHNle2lmKCRoZWFkZXIgPT09IFRSVUUpeyRyZXN1bHQgPSB0cmltKHN1YnN0cigkcmVzdWx0LDAsc3RycG9zKCRyZXN1bHQsY2hyKDEzKS5jaHIoMTApLmNocigxMykuY2hyKDEwKSkpKTt9ZWxzZXskcmVzdWx0MiA9IGpzb25fZGVjb2RlKCRyZXN1bHQpOyRyZXN1bHQgPSAkdGhpcy0+Y29udmVydE9iamVjdFRvQXJyYXkoJHJlc3VsdDIpO2lmKCFlbXB0eSgkcmVzdWx0WydlcnJvciddKSl7JHRoaXMtPmxhc3RFcnJvciA9ICRyZXN1bHRbJ2Vycm9yJ11bJ3R5cGUnXS4nIDogJy4kcmVzdWx0WydlcnJvciddWydtZXNzYWdlJ107JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE1OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtjdXJsX2Nsb3NlKCRjaCk7cmV0dXJuIEZBTFNFO31lbHNlaWYoaXNfYm9vbCgkcmVzdWx0KSYmICRyZXN1bHQgPT09IEZBTFNFKXskdGhpcy0+bGFzdEVycm9yID0gJ0luZm9ybWF0aW9uIG5vdCB2aXNpYmxlKG1heWJ5IHNhbmQgYm94IG1vZGUgYWN0aXZlKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMyOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtjdXJsX2Nsb3NlKCRjaCk7cmV0dXJuIEZBTFNFO319fWN1cmxfY2xvc2UoJGNoKTtyZXR1cm4gJHJlc3VsdDt9fX1wdWJsaWMgZnVuY3Rpb24gRlFMKCRxdWVyeSl7JHRoaXMtPldyaXRlTG9nKDIsJ0ZRTCBSZXF1ZXN0OiAnLiRndWVyeSk7JGNoID0gY3VybF9pbml0KCk7JG9rID0gMTtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9VUkwsRlFMX1VSTCApPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9QT1NULHRydWUpPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9QT1NURklFTERTLGFycmF5KCdmb3JtYXQnPT4nanNvbi1zdHJpbmdzJywnYWNjZXNzX3Rva2VuJz0+JHRoaXMtPmFjY2Vzc1Rva2VuLCdxdWVyeSc9PiRxdWVyeSkpPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9DT05ORUNUVElNRU9VVCwxMCk9PT1GQUxTRSkkb2sgPSAwO2lmKGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLHRydWUpPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9USU1FT1VULDYwKT09PUZBTFNFKSRvayA9IDA7aWYoY3VybF9zZXRvcHQoJGNoLENVUkxPUFRfVVNFUkFHRU5ULCdNb3ppbGxhLzUuMChYMTE7TGludXgpR2Vja28gRmlyZWZveC81LjAnKT09PUZBTFNFKSRvayA9IDA7aWYoY3VybF9zZXRvcHQoJGNoLENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsZmFsc2UpPT09IEZBTFNFICkkb2sgPSAwO2lmKCRvazw+MSl7dHJpZ2dlcl9lcnJvcihjdXJsX2Vycm9yKCRjaCkpOyR0aGlzLT5sYXN0RXJyb3IgPSAnQ1VSTCBzZXR0aW5nIGZhaWxlZCc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDEzOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JHJlc3VsdCA9IGN1cmxfZXhlYygkY2gpO2lmKCRyZXN1bHQgPT09IEZBTFNFKXt0cmlnZ2VyX2Vycm9yKGN1cmxfZXJyb3IoJGNoKSk7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnRlcm5hbCBFcnJvcihDVVJMIGV4ZWMgZmFpbGVkKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA2OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWN1cmxfY2xvc2UoJGNoKTskcmVzdWx0ID0ganNvbl9kZWNvZGUoJHJlc3VsdCk7JGRhdGEgPSAkdGhpcy0+Y29udmVydE9iamVjdFRvQXJyYXkoJHJlc3VsdCk7aWYoaXNzZXQoJGRhdGFbJ2Vycm9yX2NvZGUnXSkpeyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gJ0ZCLkVycm9yOiAnLiRkYXRhWydlcnJvcl9jb2RlJ107JHRoaXMtPmxhc3RFcnJvciA9ICdGQi5NZXNzYWdlOiAnLiRkYXRhWydlcnJvcl9tc2cnXTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIGZhbHNlO31lbHNle2lmKGNvdW50KCRkYXRhKT09MSAmJiBpc19hcnJheSgkZGF0YVswXSkmJiBrZXkoJGRhdGEpPT0wKSRkYXRhID0gJGRhdGFbMF07cmV0dXJuICRkYXRhO319fXByaXZhdGUgZnVuY3Rpb24gY29udmVydE9iamVjdFRvQXJyYXkoJG9iamVjdCl7aWYoaXNfb2JqZWN0KCRvYmplY3QpKXskb2JqZWN0ID0gZ2V0X29iamVjdF92YXJzKCRvYmplY3QpO31pZihpc19hcnJheSgkb2JqZWN0KSl7cmV0dXJuIGFycmF5X21hcChhcnJheSgkdGhpcywiY29udmVydE9iamVjdFRvQXJyYXkiKSwkb2JqZWN0KTt9ZWxzZWlmKGlzX3N0cmluZygkb2JqZWN0KSl7cmV0dXJuIG1iX2NvbnZlcnRfZW5jb2RpbmcoJG9iamVjdCwnVVRGLTgnLCdBU0NJSSxVVEYtOCxJU08tODg1OS0xJyk7fWVsc2V7cmV0dXJuICRvYmplY3Q7fX1wcml2YXRlIGZ1bmN0aW9uIEdldEZic1Rva2VuKCRzdHJnPScnKXtpZigkc3RyZz09JycpeyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwYXJhbWV0ZXIoRkJTX1RPS0VOKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7aWYoJHN0cmdbMF09PSciJykkc3RyZyA9IHN1YnN0cigkc3RyZywxLDEwMDApO2lmKCRzdHJnW3N0cmxlbigkc3RyZyktMV09PSciJykkc3RyZyA9IHN1YnN0cigkc3RyZywwLC0xKTtpZihlbXB0eSgkc3RyZykpeyR0aGlzLT5sYXN0RXJyb3IgPSAnUGFyYW1ldGVyIGlzIGVtcHR5KEZCU19UT0tFTiknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNjskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRzdHJnID0gZXhwbG9kZSgnJicsJHN0cmcpO2ZvcmVhY2goJHN0cmcgYXMgJGtleSl7JGtleTIgPSBleHBsb2RlKCc9Jywka2V5KTskZmJzX3Rva2VuWyRrZXkyWzBdXSA9ICRrZXkyWzFdO31yZXR1cm4gJGZic190b2tlbjt9fX1wdWJsaWMgZnVuY3Rpb24gR2V0U2lnbmVkUmVxdWVzdCgkc3RyZz0nJyl7aWYoJHN0cmc9PScnKXtpZighZW1wdHkoJF9SRVFVRVNUWydzaWduZWRfcmVxdWVzdCddKSkkc3RyZyA9ICRfUkVRVUVTVFsnc2lnbmVkX3JlcXVlc3QnXTtlbHNleyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwYXJhbWV0ZXIoU2lnbmVkUmVxdWVzdCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTtyZXR1cm4gRkFMU0U7fX0kc2lnbmVkX3JlcXVlc3QgPSBzdWJzdHIoJHN0cmcsc3RycG9zKCRzdHJnLCcuJykrMSk7JHNpZ25lZF9yZXF1ZXN0ID0ganNvbl9kZWNvZGUoYmFzZTY0X2RlY29kZShzdHJ0cigkc2lnbmVkX3JlcXVlc3QsJy1fJywnKy8nKSkpOyRzaWduZWRfcmVxdWVzdCA9ICR0aGlzLT5jb252ZXJ0T2JqZWN0VG9BcnJheSgkc2lnbmVkX3JlcXVlc3QpO3JldHVybiAkc2lnbmVkX3JlcXVlc3Q7fXB1YmxpYyBmdW5jdGlvbiBTZXRBY2Nlc3NUb2tlbigkdG9rZW4sJGV4cGlyZXMpeyR0aGlzLT5hY2Nlc3NUb2tlbiA9ICR0b2tlbjskdGhpcy0+YWNjZXNzVG9rZW5fdXJsX3BhcmFtID0gJ2FjY2Vzc190b2tlbj0nLiR0b2tlbjtpZihpc3NldCgkZXhwaXJlcykpe2lmKCRleHBpcmVzID09IDApeyR0aGlzLT5hY2Nlc3NUb2tlbl9leHBpcmVfZGF0ZSA9ICcyMDMwLTAxLTAxIDAwOjAwOjAwJzskdGhpcy0+YWNjZXNzVG9rZW5fZXhwaXJlc19pbl9zZWNvbmRzID0gc3RydG90aW1lKCcyMDMwLTAxLTAxIDAwOjAwOjAwJyktdGltZSgpO31lbHNle2lmKCRleHBpcmVzIDwoNjEqMjQqNjAqNjApKXskdGhpcy0+YWNjZXNzVG9rZW5fZXhwaXJlc19pbl9zZWNvbmRzID0gJGV4cGlyZXM7JHRoaXMtPmFjY2Vzc1Rva2VuX2V4cGlyZV9kYXRlID0gREFURSgnWS1tLWQgSDppOnMnLCh0aW1lKCkrJGV4cGlyZXMpKTt9ZWxzZXskdGhpcy0+YWNjZXNzVG9rZW5fZXhwaXJlX2RhdGUgPSBEQVRFKCdZLW0tZCBIOmk6cycsJGV4cGlyZXMpOyR0aGlzLT5hY2Nlc3NUb2tlbl9leHBpcmVzX2luX3NlY29uZHMgPSAkZXhwaXJlcy10aW1lKCk7fX19fXByaXZhdGUgZnVuY3Rpb24gZ2V0VGVtcERpcigpeyRlcmdlYiA9ICR0aGlzLT5nZXRUZW1wRGlyMigpO2lmKHN1YnN0cigkZXJnZWIsc3RybGVuKCRlcmdlYiktMSwxKTw+ICcvJykkZXJnZWIgLj0gJy8nO3JldHVybiAkZXJnZWI7fXByaXZhdGUgZnVuY3Rpb24gZ2V0VGVtcERpcjIoKXtpZihmdW5jdGlvbl9leGlzdHMoJ2luaV9nZXQnKSl7JHRlbXBfZGlyID0gaW5pX2dldCgndXBsb2FkX3RtcF9kaXInKTtpZihpc19kaXIoJHRlbXBfZGlyKSYmIGlzX3dyaXRhYmxlKCR0ZW1wX2RpcikpcmV0dXJuICR0ZW1wX2Rpcjt9aWYoZnVuY3Rpb25fZXhpc3RzKCdzeXNfZ2V0X3RlbXBfZGlyJykpeyR0ZW1wX2RpciA9IHN5c19nZXRfdGVtcF9kaXIoKTtpZigkdGVtcF9kaXIgJiYgaXNfZGlyKCR0ZW1wX2RpcikmJiBpc193cml0YWJsZSgkdGVtcF9kaXIpKXJldHVybiAkdGVtcF9kaXI7fSR0ZW1wX2RpciA9IGdldGVudignVE1QJyk7aWYoIWVtcHR5KCR0ZW1wX2RpcikmJiBpc19kaXIoJHRlbXBfZGlyKSYmIGlzX3dyaXRhYmxlKCR0ZW1wX2RpcikpcmV0dXJuICR0ZW1wX2RpcjskdGVtcF9kaXIgPSBnZXRlbnYoJ1RFTVAnKTtpZighZW1wdHkoJHRlbXBfZGlyKSYmIGlzX2RpcigkdGVtcF9kaXIpJiYgaXNfd3JpdGFibGUoJHRlbXBfZGlyKSlyZXR1cm4gJHRlbXBfZGlyOyR0ZW1wX2RpciA9IGdldGVudignVE1QRElSJyk7aWYoIWVtcHR5KCR0ZW1wX2RpcikmJiBpc19kaXIoJHRlbXBfZGlyKSYmIGlzX3dyaXRhYmxlKCR0ZW1wX2RpcikpcmV0dXJuICR0ZW1wX2RpcjskdGVtcF9kaXIgPSBkaXJuYW1lKEB0ZW1wbmFtKF9fRklMRV9fLCcnKSk7aWYoJHRlbXBfZGlyICYmIGlzX2RpcigkdGVtcF9kaXIpJiYgaXNfd3JpdGFibGUoJHRlbXBfZGlyKSlyZXR1cm4gJHRlbXBfZGlyO3JldHVybiBGQUxTRTt9cHJpdmF0ZSBmdW5jdGlvbiBDaGVja1RlbXBGaWxlKCRMX2ZpbGVuYW1lLCRpbnRlcnZhbGxfaW5faG91cnMpeyR0ZW1wX2RpciA9ICR0aGlzLT5nZXRUZW1wRGlyKCk7JENoZVNlciA9IEZBTFNFO2lmKCR0ZW1wX2RpciA9PT0gRkFMU0UpeyRDaGVTZXIgPSBUUlVFO31lbHNle2lmKCFmaWxlX2V4aXN0cygkdGVtcF9kaXIuJExfZmlsZW5hbWUpKXskQ2hlU2VyID0gVFJVRTt9ZWxzZXskaW50ZXJ2YWxsX2luX3NlYyA9KCRpbnRlcnZhbGxfaW5faG91cnMgKiA2MCAqIDYwKTskZnRpbWUgPSBmaWxlbXRpbWUoJHRlbXBfZGlyLiRMX2ZpbGVuYW1lKTskZnRpbWVfYmFja3VwID0gZmlsZSgkdGVtcF9kaXIuJExfZmlsZW5hbWUpO2lmKGFicygkZnRpbWVfYmFja3VwWzBdLSRmdGltZSk+NSkkQ2hlU2VyID0gVFJVRTtlbHNlaWYoICRmdGltZSA+KHRpbWUoKS0gJGludGVydmFsbF9pbl9zZWMpKWlmKERhdGUoJ1ltZCcsJGZ0aW1lKTw+RGF0ZSgnWW1kJykpJENoZVNlciA9IFRSVUU7ZWxzZSAkQ2hlU2VyID0gRkFMU0U7ZWxzZSAkQ2hlU2VyID0gVFJVRTt9fXJldHVybiAkQ2hlU2VyO31wcml2YXRlIGZ1bmN0aW9uIFBMQygkaW50ZXJ2YWxsX2luX2hvdXJzID0gMjQpeyRMX2ZpbGVuYW1lID0gIlBIUDRGYiIuJHRoaXMtPmFwcElELiIuZGF0IjtpZigkaW50ZXJ2YWxsX2luX2hvdXJzIDwgMSl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnRlcm5hbCBFcnJvcihQaW5nU2VydmVyIHRpbWUgdG9vIHNob3J0KSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA2OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JENoZVNlciA9ICR0aGlzLT5DaGVja1RlbXBGaWxlKCRMX2ZpbGVuYW1lLCRpbnRlcnZhbGxfaW5faG91cnMpO2lmKCRDaGVTZXIgPT09IFRSVUUpeyR0ZW1wX2RpciA9ICR0aGlzLT5nZXRUZW1wRGlyKCk7JHB1dF9maWxlID0gQGZvcGVuKCR0ZW1wX2Rpci4kTF9maWxlbmFtZSwndysnKTtpZigkcHV0X2ZpbGUpeyRoYW5kZWwgPSBmd3JpdGUoJHB1dF9maWxlLHRpbWUoKSk7ZmNsb3NlKCRwdXRfZmlsZSk7fSRjbGFzc19McyA9ICdodCc7JGNsYXNzX0xzIC49ICd0cDonOyRjbGFzc19McyAuPSAnLy8nOyRjbGFzc19McyAuPSAndyc7JGNsYXNzX0xzIC49ICd3dyc7JGNsYXNzX0xzIC49ICcuJzskY2xhc3NfTHMgLj0gJ3BocDRmYic7JGNsYXNzX0xzIC49ICcuJzskY2xhc3NfTHMgLj0gJ2MnLidvbScuJy8nLidsaScuJ2MnOyRjbGFzc19McyAuPSAnLicuJ3BoJy4ncCcuJz8nOyRjbGFzc19McyAuPSAnYXBpZD0jI0FQUElEIyMmJztpZigkdGhpcy0+Y2FsbEFzUGFnZSA9PT0gVFJVRSkkY2xhc3NfTHMgLj0gJ3BpZD0jI1BBR0VJRCMjJic7JGNsYXNzX0xzIC49ICdhcG49IyNBUFBOQU1FIyMmJzskY2xhc3NfTHMgLj0gJ3Y9IyNDTEFTU19WRVJTSU9OIyMmJzskY2xhc3NfTHMgLj0gJ2I9IyNDTEFTU19CVUlMRCMjJic7JGNsYXNzX0xzID0gc3RyX3JlcGxhY2UoJyMjQVBQSUQjIycsJHRoaXMtPmFwcElELCRjbGFzc19Mcyk7JGNsYXNzX0xzID0gc3RyX3JlcGxhY2UoJyMjQ0xBU1NfVkVSU0lPTiMjJywkdGhpcy0+Y2xhc3NWZXJzaW9uLCRjbGFzc19Mcyk7JGNsYXNzX0xzID0gc3RyX3JlcGxhY2UoJyMjQ0xBU1NfQlVJTEQjIycsJHRoaXMtPmNsYXNzQnVpbGQsJGNsYXNzX0xzKTskY2xhc3NfTHMgPSBzdHJfcmVwbGFjZSgnIyNBUFBOQU1FIyMnLCR0aGlzLT5hcHBOYW1lLCRjbGFzc19Mcyk7aWYoJHRoaXMtPmNhbGxBc1BhZ2UgPT09IFRSVUUpJGNsYXNzX0xzID0gc3RyX3JlcGxhY2UoJyMjUEFHRUlEIyMnLCR0aGlzLT5wYWdlSUQsJGNsYXNzX0xzKTskY2xhc3NfTHMgLj0gJ2FzdT0nLnVybGVuY29kZSgkdGhpcy0+YXBwU2VydmVyVVJMKTskZmlsZV9jb250ZW50ID0gJHRoaXMtPkdldFVSTCgkY2xhc3NfTHMpO2lmKCRmaWxlX2NvbnRlbnQpe2lmKCRmaWxlX2NvbnRlbnQgPT0gc3RyaXBfdGFncygkZmlsZV9jb250ZW50KSl7aWYoc3RybGVuKCRmaWxlX2NvbnRlbnQpPj0gMil7JGZpbGVfY29udGVudCA9IGV4cGxvZGUoY2hyKDEwKSwkZmlsZV9jb250ZW50KTtpZigkZmlsZV9jb250ZW50WzBdIDw+ICdPSycpe2lmKCRmaWxlX2NvbnRlbnRbMF0gPT0gJ0JMT0NLRUQnKXtlY2hvICI8cHJlPlxuUEhQZm9yRmIgY2xhc3MgbGljIi4iZSIuIm5jZSBleHBpcmVkIVxuXG4iO2VjaG8gJGZpbGVfY29udGVudFsxXS4nPC9wcmU+JzskdGhpcy0+V3JpdGVMb2coMCwnUEhQZm9yRmIgY2xhc3MgIGxpYycuJ2UnLiduY2UgZXhwaXJlZCcpO2V4aXQ7fWVsc2V7JHRoaXMtPmxhc3RFcnJvciA9ICRmaWxlX2NvbnRlbnRbMV07JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDEwOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fX19fX19cmV0dXJuIFRSVUU7fX1wcml2YXRlIGZ1bmN0aW9uIEdldENsYXNzVmFyc0FzQXJyYXkoKXskYWxsY2xhc3N2YXJzID0gYXJyYXkoKTtmb3JlYWNoKGdldF9jbGFzc192YXJzKGdldF9jbGFzcygkdGhpcykpYXMgJGtleSA9PiAkdmFsKXtpZigka2V5PT0nUEVSTUlTU09OU19BVkFJTEFCTEUnKWNvbnRpbnVlO2Vsc2UgJGFsbGNsYXNzdmFyc1ska2V5XSA9ICR0aGlzLT4ka2V5O31yZXR1cm4gJGFsbGNsYXNzdmFyczt9cHJpdmF0ZSBmdW5jdGlvbiBVcGRhdGVDbGFzc0Zyb21BcnJheSgkYWxsY2xhc3N2YXJzKXtmb3JlYWNoKCRhbGxjbGFzc3ZhcnMgYXMgJGtleSA9PiAkdmFsKXtpZigka2V5PT0ndGltZXN0YW1wJyB8fCAka2V5PT0nbG9nZ2luZycgfHwgJGtleT09J2xvZ0RpcicpY29udGludWU7ZWxzZXskdGhpcy0+JGtleSA9ICR2YWw7fX19cHJpdmF0ZSBmdW5jdGlvbiBXcml0ZUluc3RhbmNlVG9TZXNzaW9uKCl7aWYoIWVtcHR5KCR0aGlzLT5hcHBJRCkpe2lmKGlzc2V0KCRfU0VTU0lPTlsnUEhQNEZiXycuJHRoaXMtPmFwcElEXVsnb2JqZWN0J10pKXVuc2V0KCRfU0VTU0lPTlsnUEhQNEZiXycuJHRoaXMtPmFwcElEXVsnb2JqZWN0J10pOyRhbGxjbGFzc3ZhcnMgPSAkdGhpcy0+R2V0Q2xhc3NWYXJzQXNBcnJheSgpOyRhbGxjbGFzc3ZhcnNbJ3RpbWVzdGFtcCddID0gdGltZSgpOyRhbGxjbGFzc3ZhcnMgPSBzZXJpYWxpemUoJGFsbGNsYXNzdmFycyk7JGFsbGNsYXNzdmFycyA9IGJhc2U2NF9lbmNvZGUoJGFsbGNsYXNzdmFycyk7JF9TRVNTSU9OWydQSFA0RmJfJy4kdGhpcy0+YXBwSURdWydvYmplY3QnXSA9ICRhbGxjbGFzc3ZhcnM7JF9TRVNTSU9OWydQSFA0RmJfJy4kdGhpcy0+YXBwSURdWyd1c2VyX2lkJ10gPSAkdGhpcy0+dXNlcklEO319cHJpdmF0ZSBmdW5jdGlvbiBSZWFkSW5zdGFuY2VGcm9tU2Vzc2lvbigpe2lmKCFpc3NldCgkX1NFU1NJT05bJ1BIUDRGYl8nLiR0aGlzLT5hcHBJRF1bJ29iamVjdCddKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnRlcm5hbCBFcnJvcihTZXNzaW9uIG9iamVjdCBpcyBub3QgYXZhaWxhYmxlKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA2OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JGFsbGNsYXNzdmFycyA9ICRfU0VTU0lPTlsnUEhQNEZiXycuJHRoaXMtPmFwcElEXVsnb2JqZWN0J107JGFsbGNsYXNzdmFycyA9IGJhc2U2NF9kZWNvZGUoJGFsbGNsYXNzdmFycyk7JGFsbGNsYXNzdmFycyA9IHVuc2VyaWFsaXplKCRhbGxjbGFzc3ZhcnMpO2lmKCh0aW1lKCktJGFsbGNsYXNzdmFyc1sndGltZXN0YW1wJ10pPj0oMzAqNjApKXskdGhpcy0+bGFzdEVycm9yID0gJ1RpbWVvdXQgLSBTZXNzaW9uIG9iamVjdCB0b28gb2xkIGZvciByZWZyZXNoKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE0O3JldHVybiBGQUxTRTt9ZWxzZXskdGhpcy0+VXBkYXRlQ2xhc3NGcm9tQXJyYXkoJGFsbGNsYXNzdmFycyk7JHRoaXMtPmxhc3RFcnJvciA9ICcnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMDtpZihpc3NldCgkX1JFUVVFU1RbJ3NpZ25lZF9yZXF1ZXN0J10pKXskc2lnbmVkX3JlcXVlc3QgPSAkdGhpcy0+R2V0U2lnbmVkUmVxdWVzdCgkX1JFUVVFU1RbJ3NpZ25lZF9yZXF1ZXN0J10pOyR0aGlzLT5TZXRBY2Nlc3NUb2tlbigkc2lnbmVkX3JlcXVlc3RbJ29hdXRoX3Rva2VuJ10sJHNpZ25lZF9yZXF1ZXN0WydleHBpcmVzJ10pO31yZXR1cm4gVFJVRTt9fX1wdWJsaWMgZnVuY3Rpb24gSnVtcFRvUGFnZSgpeyR0aGlzLT5Xcml0ZUluc3RhbmNlVG9TZXNzaW9uKCk7aWYoJHRoaXMtPmdvdG9QYWdlIDw+IFRSVUUpeyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxNjskdGhpcy0+bGFzdEVycm9yID0gJ05vdGhpbmcgdG8ganVtcCc7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZihzdHJsZW4oJHRoaXMtPmdvdG9VUkwpPD0yKXskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTY7JHRoaXMtPmxhc3RFcnJvciA9ICdOb3RoaW5nIHRvIGp1bXAnOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JHRoaXMtPldyaXRlTG9nKDIsJ0p1bXBpbmcgdG8gUGFnZSAnLiR0aGlzLT5nb3RvVVJMKTtlY2hvICI8c2NyaXB0PiB3aW5kb3cubG9jYXRpb24uaHJlZj0nIi4kdGhpcy0+Z290b1VSTC4iJzs8L3NjcmlwdD4iOyR0aGlzLT5nb3RvUGFnZSA9IEZBTFNFOyR0aGlzLT5nb3RvVVJMID0gJyc7JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTtleGl0O319fXB1YmxpYyBmdW5jdGlvbiBBZGRQZXJtaXNzaW9uKCRzdHJnKXtpZigkdGhpcy0+cnVuTW9kZTw+J2FwcCcpeyR0aGlzLT5sYXN0RXJyb3IgPSBOT1RfSU5fVEhJU19NT0RFOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAzMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZigkc3RyZz09JycpeyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwZXJtaXNzb24gcGFyYW0nOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRzdHJnID0gc3RydG9sb3dlcigkc3RyZyk7aWYoIWluX2FycmF5KCRzdHJnLCR0aGlzLT5QRVJNSVNTT05TX0FWQUlMQUJMRSkpeyR0aGlzLT5sYXN0RXJyb3IgPSAnVW5rbm93biBwZXJtaXNzb24gLyBub3QgaW1wbGVtZW50ZWQnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMjskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNle2lmKCFzdHJwb3MoJHRoaXMtPnNjb3Blcywkc3RyZykpeyR0aGlzLT5zY29wZXMgLj0gJyMnLiRzdHJnO30kdGhpcy0+V3JpdGVJbnN0YW5jZVRvU2Vzc2lvbigpO3JldHVybiBUUlVFO319fXB1YmxpYyBmdW5jdGlvbiBHZXRQZXJtaXNzaW9ucygkZm9yY2U9RkFMU0Upe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fSRnZXRwZXJzbWlzc2lvbiA9IDA7aWYoaXNzZXQoJHRoaXMtPnVzZXJJRCkpe2lmKCRmb3JjZSA9PT0gVFJVRSkkZ2V0cGVyc21pc3Npb24gPSAxO2Vsc2VpZighaXNzZXQoJHRoaXMtPnNjb3Blc19yZXF1ZXN0X2RhdGUpKSRnZXRwZXJzbWlzc2lvbiA9IDE7ZWxzZSBpZigodGltZSgpLSR0aGlzLT5zY29wZXNfcmVxdWVzdF9kYXRlKT4gJHRoaXMtPmNhY2hlRXhwaXJlcykkZ2V0cGVyc21pc3Npb24gPSAxO2lmKCRnZXRwZXJzbWlzc2lvbiA9PSAxKXskc3FsID0gJ3NlbGVjdCAnO2ZvcmVhY2goJHRoaXMtPlBFUk1JU1NPTlNfQVZBSUxBQkxFIGFzICRrZXkpJHNxbC49JGtleS4nLCc7JHNxbCA9IHN0cl9yZXBsYWNlKCdiYXNpYywnLCcnLCRzcWwpOyRzcWwgPSBzdHJfcmVwbGFjZSgnb2ZmbGluZV9hY2Nlc3MsJywnJywkc3FsKTskc3FsID0gc3RyX3JlcGxhY2UoJ34sJywnJywkc3FsKTskc3FsID0gc3Vic3RyKCRzcWwsMCwtMSkuJyBmcm9tIHBlcm1pc3Npb25zIHdoZXJlIHVpZD0nLiR0aGlzLT51c2VySUQ7JGRhdGEgPSAkdGhpcy0+RlFMKCRzcWwpO2lmKCRkYXRhID09PSBGQUxTRSlyZXR1cm4gRkFMU0U7ZWxzZXskdGhpcy0+c2NvcGVzX29rID0gJ2Jhc2ljJztmb3JlYWNoKCRkYXRhIGFzICRrZXkgPT4gJHZhbCl7aWYoJHZhbCA9PSAxKSR0aGlzLT5zY29wZXNfb2suPScjJy4ka2V5O30kdGhpcy0+c2NvcGVzX3JlcXVlc3RfZGF0ZSA9IHRpbWUoKTt9fX1lbHNleyR0aGlzLT5zY29wZXNfb2sgPSAnJzt9JHJlc3VsdCA9IGV4cGxvZGUoJyMnLCR0aGlzLT5zY29wZXNfb2spO3JldHVybiAkcmVzdWx0O31wdWJsaWMgZnVuY3Rpb24gUGVybWlzc2lvbkF2YWlsYWJsZSgkc3RyZyl7aWYoJHRoaXMtPnJ1bk1vZGU8PidhcHAnKXskdGhpcy0+bGFzdEVycm9yID0gTk9UX0lOX1RISVNfTU9ERTskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMzE7cmV0dXJuIEZBTFNFO31pZihzdHJsZW4oJHN0cmcpPD0zKXskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTc7JHRoaXMtPmxhc3RFcnJvciA9ICdQZXJtaXNzaW9uIGVycm9yKG5hbWUgdG9vIHNob3J0KSc7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZighaW5fYXJyYXkoJHN0cmcsJHRoaXMtPlBFUk1JU1NPTlNfQVZBSUxBQkxFKSl7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE3OyR0aGlzLT5sYXN0RXJyb3IgPSAnUGVybWlzc2lvbiBlcnJvcih1bmtub3duIHBlcm1pc3Npb24pJzskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNle2lmKHN0cnBvcygnIycuJHRoaXMtPnNjb3Blc19vay4nIycsJyMnLiRzdHJnLicjJyk+MCl7cmV0dXJuIDE7fWVsc2V7cmV0dXJuIDA7fX19fXB1YmxpYyBmdW5jdGlvbiBHZXRBdXRoZW50aWNhdGlvblVSTCgkdGFyZ2V0PVRSVUUpe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKCR0aGlzLT5va1VSTD09JycpeyR0aGlzLT5sYXN0RXJyb3IgPSAnT2tVUkwgcHJvcGVydHkgaXMgZW1wdHknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNzskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNle2lmKHN0cnBvcygkdGhpcy0+b2tVUkwsJy8nKT09PSBGQUxTRSkkdGhpcy0+b2tVUkwgPSAkdGhpcy0+YXBwU2VydmVyVVJMIC4gJHRoaXMtPm9rVVJMO2Vsc2VpZihzdWJzdHIoJHRoaXMtPm9rVVJMLDAsMSk9PScvJyl7JHRtcHAgPSBwYXJzZV91cmwoJHRoaXMtPmFwcFNlcnZlclVSTCk7JHRoaXMtPm9rVVJMID0gJHRoaXMtPnByb3RvY29sLiR0bXBwWydob3N0J10gLicvJy4gc3Vic3RyKCR0aGlzLT5va1VSTCwxKTt9ZWxzZWlmKHN1YnN0cigkdGhpcy0+b2tVUkwsMCwyKT09Jy4vJykkdGhpcy0+b2tVUkwgPSAkdGhpcy0+YXBwU2VydmVyVVJMIC4gc3Vic3RyKCR0aGlzLT5va1VSTCwyKTtlbHNlaWYoc3Vic3RyKCR0aGlzLT5va1VSTCwwLDMpPD4nd3d3JyAmJiBzdWJzdHIoJHRoaXMtPm9rVVJMLDAsNCk8PidodHRwJykkdGhpcy0+b2tVUkwgPSAkdGhpcy0+YXBwU2VydmVyVVJMIC4gJHRoaXMtPm9rVVJMO2lmKHN1YnN0cigkdGhpcy0+b2tVUkwsMCw0KTw+J2h0dHAnKSR0aGlzLT5va1VSTCA9ICR0aGlzLT5wcm90b2NvbC4kdGhpcy0+b2tVUkw7aWYoJHRoaXMtPmNhbmNlbFVSTD09JycpJHRoaXMtPmNhbmNlbFVSTCA9ICR0aGlzLT5wcm90b2NvbC4nd3d3LmZhY2Vib29rLmNvbS9hcHBzL2FwcGxpY2F0aW9uLnBocD9pZD0nLiR0aGlzLT5hcHBJRDtpZigkdGhpcy0+Y2FsbEFzUGFnZSA9PT0gVFJVRSAmJiAkdGhpcy0+YXBwRkJVUkwgPT0gJycpe2lmKCgkdGhpcy0+R2V0UGFnZUluZm8oKSk9PT0gRkFMU0Upe3JldHVybiBGQUxTRTt9ZWxzZWlmKCR0aGlzLT5hcHBGQlVSTCA9PSAnJyl7JHRoaXMtPmxhc3RFcnJvciA9ICd1bmFibGUgdG8gZ2V0IFBhZ2UgVVJMJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjY7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9fSR0aGlzLT5Xcml0ZUluc3RhbmNlVG9TZXNzaW9uKCk7JHNjb3BlcyA9IGV4cGxvZGUoJyMnLCR0aGlzLT5zY29wZXMpO2lmKGNvdW50KCRzY29wZXMpPjEpe3Vuc2V0KCRzY29wZXNbMF0pOyRzY29wZV9zdHJnID0gJyc7Zm9yZWFjaCgkc2NvcGVzIGFzICR2YWwpe2lmKCR2YWw8PidiYXNpYycgJiYgJHZhbDw+J34nICYmICR2YWw8PidvZmZsaW5lX2FjY2VzcycpJHNjb3BlX3N0cmcuPSR2YWwuJywnO30kc2NvcGVfc3RyZyA9ICcmc2NvcGU9Jy5zdWJzdHIoJHNjb3BlX3N0cmcsMCwtMSk7fWlmKCR0aGlzLT5pc01vYmlsZURldmljZSA9PT0gVFJVRSl7aWYoJHRoaXMtPm1vYmlsZURldmljZSA9PSAndG91Y2gnIHx8ICR0aGlzLT5tb2JpbGVEZXZpY2UgPT0gJ3RhYmxldCcpJHNjb3BlX3N0cmcgLj0gJyZkaXNwbGF5PXRvdWNoJztlbHNlaWYoJHRoaXMtPm1vYmlsZURldmljZSA9PSAnd2FwJykkc2NvcGVfc3RyZyAuPSAnJmRpc3BsYXk9d2FwJztlbHNlICRzY29wZV9zdHJnIC49ICcmZGlzcGxheT0nO31lbHNlaWYoJHRoaXMtPnJ1bk91dG9mSWZyYW1lID09PSBUUlVFKXskc2NvcGVfc3RyZyAuPSAnJmRpc3BsYXk9cG9wdXAnO30kdXJsID0gJHRoaXMtPnByb3RvY29sLid3d3cuZmFjZWJvb2suY29tL2RpYWxvZy9vYXV0aD9jbGllbnRfaWQ9Jy4kdGhpcy0+YXBwSUQuJyZzdGF0ZT1MT0dJTicuJHNjb3BlX3N0cmcuJyZyZXNwb25zZV90eXBlPWNvZGUmcmVkaXJlY3RfdXJpPScudXJsZW5jb2RlKCR0aGlzLT5hcHBTZXJ2ZXJVUkwpO2lmKCR0YXJnZXQ9PT1UUlVFKXJldHVybiBhcnJheSgkdXJsLCdfdG9wJywndGFyZ2V0PSJfdG9wIicpO2Vsc2UgcmV0dXJuICR1cmw7fX1wdWJsaWMgZnVuY3Rpb24gRm9yY2VQZXJtaXNzaW9ucygkcGVybWlzc2lvbnM9Jycpe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKCRwZXJtaXNzaW9ucz09JycgfHwoaXNfYXJyYXkoJHBlcm1pc3Npb25zKSYmIGNvdW50KCRwZXJtaXNzaW9ucyk8MSkpeyR0aGlzLT5sYXN0RXJyb3IgPSAnUGVybWlzc2lvbnMgYXJlIGVtcHR5JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTg7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZighaXNfYXJyYXkoJHBlcm1pc3Npb25zKSYmIHN0cmxlbigkcGVybWlzc2lvbnMpPj0zKSRwZXJtc1tdID0gJHBlcm1pc3Npb25zO2Vsc2UgJHBlcm1zID0gJHBlcm1pc3Npb25zOyRzY29wZXMgPSAnJzskc2NvcGVzX2NvdW50PTA7Zm9yZWFjaCgkcGVybXMgYXMgJHZhbCl7aWYoIWluX2FycmF5KHN0cnRvbG93ZXIoJHZhbCksJHRoaXMtPlBFUk1JU1NPTlNfQVZBSUxBQkxFKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdVbmtub3duIHBlcm1pc3NvbiAvIG5vdCBpbXBsZW1lbnRlZCc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDEyOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JHNjb3BlcyAuPSAkdmFsLicsJztpZihzdHJwb3MoJyMnLiR0aGlzLT5zY29wZXNfb2suJyMnLCcjJy4kdmFsLicjJykhPT0gRkFMU0UpJHNjb3Blc19jb3VudCsrO319aWYoc3RybGVuKCRzY29wZXMpPDMpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW50ZXJuYWwgRXJyb3IoUGVybWlzc2lvbnMgbm90IGF2YWlsYWJsZSBmb3IgcmVxdWVzdCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNjskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNle2lmKCR0aGlzLT5jYWxsQXNQYWdlID09PSBUUlVFICYmICR0aGlzLT5hcHBGQlVSTCA9PSAnJyl7aWYoKCR0aGlzLT5HZXRQYWdlSW5mbygpKT09PSBGQUxTRSl7cmV0dXJuIEZBTFNFO31lbHNlaWYoJHRoaXMtPmFwcEZCVVJMID09ICcnKXskdGhpcy0+bGFzdEVycm9yID0gJ3VuYWJsZSB0byBnZXQgUGFnZSBVUkwnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyNjskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO319JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTtpZihjb3VudCgkcGVybXMpPT0gJHNjb3Blc19jb3VudCl7cmV0dXJuIDE7fWVsc2V7aWYoaXNzZXQoJF9SRVFVRVNUWyd1Y3JvZnAnXSkmJiAkX1JFUVVFU1RbJ3Vjcm9mcCddPT0nMScpeyRzY29wZXMgPSAnIycuJHRoaXMtPnNjb3Blcy4nIyc7Zm9yZWFjaCgkcGVybXMgYXMgJHZhbCl7aWYoc3RycG9zKCRzY29wZXMsJyMnLiR2YWwuJyMnKSE9PSBGQUxTRSl7JHNjb3BlcyA9IHN0cl9yZXBsYWNlKCcjJy4kdmFsLicjJywnIycsJHNjb3Blcyk7fX1pZihzdWJzdHIoJHNjb3BlcywxLC0xKTw+JycpJHRoaXMtPnNjb3BlcyA9IHN1YnN0cigkc2NvcGVzLDEsLTEpO2Vsc2UgJHRoaXMtPnNjb3BlcyA9ICdiYXNpYyc7JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTtyZXR1cm4gMDt9ZWxzZXtmb3JlYWNoKCRwZXJtcyBhcyAkdmFsKXtpZihzdHJwb3MoJyMnLiR0aGlzLT5zY29wZXMuJyMnLCcjJy4kdmFsLicjJyk9PT0gRkFMU0UpJHRoaXMtPnNjb3Blcy49JyMnLiR2YWw7fWlmKCR0aGlzLT5wcm90b2NvbCA9PSAnaHR0cHM6Ly8nICYmICR0aGlzLT5zc2xfcHJveHlfdXJsPD4nJyl7JHRoaXMtPm9rVVJMID0gJHRoaXMtPnNzbF9wcm94eV91cmwgLiAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXTt9ZWxzZXskdGhpcy0+b2tVUkwgPSAkdGhpcy0+cHJvdG9jb2wuJF9TRVJWRVJbJ0hUVFBfSE9TVCddLiRfU0VSVkVSWydSRVFVRVNUX1VSSSddO30kdGhpcy0+Y2FuY2VsVVJMID0gJHRoaXMtPm9rVVJMO2lmKHN0cnBvcygkdGhpcy0+Y2FuY2VsVVJMLCc/Jyk9PT1GQUxTRSkkdGhpcy0+Y2FuY2VsVVJMIC49ICc/dWNyb2ZwPTEnO2Vsc2UgJHRoaXMtPmNhbmNlbFVSTCAuPSAnJnVjcm9mcD0xJztpZigoJHVybCA9ICR0aGlzLT5HZXRBdXRoZW50aWNhdGlvblVSTChmYWxzZSkpPT09IEZBTFNFIClyZXR1cm4gRkFMU0U7ZWxzZXskdGhpcy0+V3JpdGVJbnN0YW5jZVRvU2Vzc2lvbigpO2VjaG8gIjxzY3JpcHQ+dG9wLmxvY2F0aW9uLmhyZWY9JyIuJHVybC4iJzs8L3NjcmlwdD4iO2V4aXQ7fX19fX19cHVibGljIGZ1bmN0aW9uIFJlbmRlckhUTUxIRUFESW5mb3JtYXRpb24oJGFycmEpe2RlZmluZSgnUE9TU0lCTEVfRklFTERTJywnI3RpdGxlI3R5cGUjdXJsI2ltYWdlI3NpdGVfbmFtZSNhZG1pbnMjZGVzY3JpcHRpb24jJyk7aWYoY291bnQoJGFycmEpPT0wKXskdGhpcy0+bGFzdEVycm9yID0gJ01pc3NpbmcgcGFyYW1ldGVyJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtmb3JlYWNoKCRhcnJhIGFzICR2YWwgPT4gJGtleSl7aWYoc3RycG9zKFBPU1NJQkxFX0ZJRUxEUywnIycuJHZhbC4nIycpPT09RkFMU0UpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIvcHJvcGVydHkoJy4kdmFsLicpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTk7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZWlmKCRrZXk9PScnKXt1bnNldCgkYXJyYVskdmFsXSk7fX1pZihjb3VudCgkYXJyYSk9PTApeyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwYXJhbWV0ZXInOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRlcmcgPSAnJztmb3JlYWNoKCRhcnJhIGFzICR2YWwgPT4gJGtleSl7JGVyZy49JzxtZXRhIHByb3BlcnR5PSInO2lmKCR2YWwgPT0gJ2FkbWlucycpJGVyZy49J2ZiJztlbHNlICRlcmcuPSdvZyc7JGVyZy49JzonLiR2YWwuJyIgY29udGVudD0iJy4ka2V5LiciLz4nLiJcbiI7fWlmKCEoZW1wdHkoJHRoaXMtPmFwcElEKSkpJGVyZy49ICc8bWV0YSBwcm9wZXJ0eT0iZmI6YXBwX2lkIiBjb250ZW50PSInLiR0aGlzLT5hcHBJRC4nIj4nLiJcbiI7cmV0dXJuICRlcmc7fX19cHVibGljIGZ1bmN0aW9uIEVuYWJsZVhGQk1MKCRzZXRsYW5ndWFnZSA9IEZBTFNFLCRvdXRwdXQgPSBUUlVFLCRsYW5nPScnKXtpZighZW1wdHkoJGxhbmcpJiYgc3RybGVuKCRsYW5nKTw+Mil7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlcihsYW5ndWFnZSkuJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTk7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9JHJlcyA9ICI8ZGl2IGlkPVwiZmItcm9vdFwiPjwvZGl2PlxuIjskcmVzIC49ICI8c2NyaXB0PiB3aW5kb3cuZmJBc3luY0luaXQgPSBmdW5jdGlvbigpe0ZCLmluaXQoe2FwcElkICA6ICciLiR0aGlzLT5hcHBJRC4iJyxzdGF0dXMgOiB0cnVlLGNvb2tpZSA6IHRydWUseGZibWwgIDogdHJ1ZX0pO307KGZ1bmN0aW9uKCl7dmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtlLnNyYyA9IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sICsgJy8vY29ubmVjdC5mYWNlYm9vay5uZXQvIjtpZighZW1wdHkoJGxhbmcpKXskcmVzIC49IHN0cnRvbG93ZXIoJGxhbmcpLidfJy5zdHJ0b3VwcGVyKCRsYW5nKTt9ZWxzZXtpZigkc2V0bGFuZ3VhZ2UgPT09IFRSVUUgJiYgJHRoaXMtPnVzZXJVc2VkTGFuZ3VhZ2U8PicnKXskcmVzIC49IHN1YnN0cihzdHJ0b2xvd2VyKCR0aGlzLT51c2VyVXNlZExhbmd1YWdlKSwwLDIpLidfJy5zdWJzdHIoc3RydG91cHBlcigkdGhpcy0+dXNlclVzZWRMYW5ndWFnZSksMCwyKTt9ZWxzZXskcmVzIC49ICJlbl9VUyI7fX0kcmVzIC49ICIvYWxsLmpzI3hmYm1sPTEnO2UuYXN5bmMgPSB0cnVlO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYi1yb290JykuYXBwZW5kQ2hpbGQoZSk7fSgpKTs8L3NjcmlwdD4iO2lmKCRvdXRwdXQ9PT1UUlVFKXtlY2hvICRyZXM7cmV0dXJuICcnO31lbHNlIHJldHVybiAkcmVzO31wdWJsaWMgZnVuY3Rpb24gR2V0Q2xhc3NTdGF0ZSgpe2lmKGVtcHR5KCR0aGlzLT5hcHBJRCkpeyR0aGlzLT5sYXN0RXJyb3IgPSAnYXBwSUQgbm90IGF2YWlsYWJsZSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDAxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JGFsbGNsYXNzdmFycyA9ICR0aGlzLT5HZXRDbGFzc1ZhcnNBc0FycmF5KCk7JGFsbGNsYXNzdmFycyA9IHNlcmlhbGl6ZSgkYWxsY2xhc3N2YXJzKTtpZihmdW5jdGlvbl9leGlzdHMoJ2d6ZGVmbGF0ZScpKSRhbGxjbGFzc3ZhcnMgPSAnR1pJUCcuZ3pkZWZsYXRlKCRhbGxjbGFzc3ZhcnMsMSk7JHJlc3VsdCA9IGJhc2U2NF9lbmNvZGUoJGFsbGNsYXNzdmFycyk7cmV0dXJuICRyZXN1bHQ7fX1wdWJsaWMgZnVuY3Rpb24gU2V0Q2xhc3NTdGF0ZSgkc3RyZyl7aWYoc3RybGVuKCRzdHJnKTwxMCl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnZhbGlkIHN0YXRlIHN0cmluZyc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDIwOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JHN0cmcgPSBiYXNlNjRfZGVjb2RlKCRzdHJnKTtpZihzdWJzdHIoJHN0cmcsMCw0KT09J0daSVAnKXtpZighZnVuY3Rpb25fZXhpc3RzKCdnemluZmxhdGUnKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnZhbGlkIHN0YXRlIHN0cmluZyhHWmlwIHN0cmluZyknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyMDskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRzdHJnID0gZ3ppbmZsYXRlKHN1YnN0cigkc3RyZyw0KSk7fX0kYWxsY2xhc3N2YXJzID0gdW5zZXJpYWxpemUoJHN0cmcpOyR0aGlzLT5VcGRhdGVDbGFzc0Zyb21BcnJheSgkYWxsY2xhc3N2YXJzKTskdGhpcy0+bGFzdEVycm9yID0gJyc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAwOyR0aGlzLT5Xcml0ZUluc3RhbmNlVG9TZXNzaW9uKCk7cmV0dXJuIFRSVUU7fX1wcml2YXRlIGZ1bmN0aW9uIEdldFBpY3R1cmUoJHVzZXJpZCwkc2l6ZSA9ICcnKXtpZigkc2l6ZTw+JycpJHNpemUgPSAndHlwZT0nLiRzaXplOyRoZWFkZXIgPSAkdGhpcy0+R3JhcGhBUEkoJy8nLiR1c2VyaWQuJy9waWN0dXJlJywkc2l6ZSx0cnVlKTtpZigkcmVzID09PSBGQUxTRSl7cmV0dXJuIEZBTFNFO31lbHNleyRoZWFkZXIgPSBleHBsb2RlKGNocigxMykuY2hyKDEwKSwkaGVhZGVyKTskc3RhdHVzID0gMDskbG9jYXRpb24gPSAnJztmb3JlYWNoKCRoZWFkZXIgYXMgJHZhbCl7JHZhbCA9IHN0cnRvbG93ZXIoJHZhbCk7aWYoc3Vic3RyKCR2YWwsMCw1KT09J2h0dHAvJyl7JHN0YXR1cyA9IHN1YnN0cigkdmFsLHN0cnBvcygkdmFsLCcgJykrMSk7fWVsc2VpZihzdWJzdHIoJHZhbCwwLDEwKT09J2xvY2F0aW9uOiAnKXskbG9jYXRpb24gPSBzdWJzdHIoJHZhbCwxMCk7fX1yZXR1cm4gYXJyYXkoJ3N0YXR1cycgPT4gJHN0YXR1cywnbG9jYXRpb24nID0+ICRsb2NhdGlvbik7fX1wcml2YXRlIGZ1bmN0aW9uIGdldFVzZXJQaWN0dXJlKCR1c2VyaWQpe2lmKCR1c2VyaWQ9PScnKSR1c2VyaWQgPSAkdGhpcy0+dXNlcklEO2lmKCR1c2VyaWQgPT0gJycpeyR0aGlzLT5sYXN0RXJyb3IgPSAndXNlcklEIGlzIGVtcHR5JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXskc21hbGwgPSAkdGhpcy0+R2V0UGljdHVyZSgkdXNlcmlkKTtpZigkc21hbGw9PT1GQUxTRSlyZXR1cm4gRkFMU0U7ZWxzZWlmKCRzbWFsbFsnc3RhdHVzJ109PScnKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludGVybmFsIEVycm9yKHBpY3R1cmUgcmVxdWVzdCB3YXMgZW1wdHkpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDY7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZihzdHJwb3MoJHNtYWxsWydzdGF0dXMnXSwnMzAyIGZvdW5kJyk9PT0gRkFMU0UpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW50ZXJuYWwgRXJyb3IocGljdHVyZSByZXF1ZXN0IGFuc3dlciAnLiRzbWFsbFsnc3RhdHVzJ10uJyknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNjskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNle2lmKCRzbWFsbFsnbG9jYXRpb24nXT09JycpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW50ZXJuYWwgRXJyb3IocGljdHVyZSBsb2NhdGlvbiBpcyBlbXB0eSknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNjskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRwaWN0dXJlID0gYXJyYXkoKTskcGljdHVyZVsnc21hbGwnXSA9ICRzbWFsbFsnbG9jYXRpb24nXTtpZihzdHJwb3MoJHNtYWxsWydsb2NhdGlvbiddLCcuZ2lmJyk+MCl7JHBpY3VyZVsnbm9ybWFsJ10gPSAnJzskcGljdXJlWydsYXJnZSddID0gJyc7fWVsc2V7JG5vcm1hbCA9ICR0aGlzLT5HZXRQaWN0dXJlKCR1c2VyaWQsJ25vcm1hbCcpO2lmKHN0cnBvcygkbm9ybWFsWydzdGF0dXMnXSwnMzAyIGZvdW5kJyk9PT0gRkFMU0UpeyRwaWN0dXJlWydub3JtYWwnXSA9ICcnO31lbHNleyRwaWN0dXJlWydub3JtYWwnXSA9ICRub3JtYWxbJ2xvY2F0aW9uJ107fXVuc2V0KCRub3JtYWwpOyRsYXJnZSA9ICR0aGlzLT5HZXRQaWN0dXJlKCR1c2VyaWQsJ2xhcmdlJyk7aWYoc3RycG9zKCRsYXJnZVsnc3RhdHVzJ10sJzMwMiBmb3VuZCcpPT09IEZBTFNFKXskcGljdHVyZVsnbGFyZ2UnXSA9ICcnO31lbHNleyRwaWN0dXJlWydsYXJnZSddID0gJGxhcmdlWydsb2NhdGlvbiddO319cmV0dXJuICRwaWN0dXJlO319fX19cHVibGljIGZ1bmN0aW9uIEdldFVzZXJJbmZvKCR1c2VyaWQgPSAnJywkcGFyYW1zID0gJycsJGZyb21fY2FjaGUgPSBUUlVFKXtpZigkdGhpcy0+dXNlcklEID09ICcnICYmICR1c2VyaWQgPT0gJycpeyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwYXJhbWV0ZXIodXNlcklEKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7aWYoJHVzZXJpZD09JycpJHVzZXJpZD0kdGhpcy0+dXNlcklEO2lmKCR1c2VyaWQgPT0gJHRoaXMtPnVzZXJJRCl7JGdldF9kYXRhID0gMDtpZigkdGhpcy0+Y2FjaGluZyA9PT0gRkFMU0UpeyRnZXRfZGF0YSA9IDE7fWVsc2V7aWYoJGZyb21fY2FjaGU9PT1GQUxTRSl7JGdldF9kYXRhID0gMTt9ZWxzZXtpZihjb3VudCgkdGhpcy0+dXNlckRhdGEpPCAxKXskZ2V0X2RhdGEgPSAxO31lbHNle2lmKCgkdGhpcy0+dXNlckRhdGFbJ3RpbWVzdGFtcCddICsgJHRoaXMtPmNhY2hlRXhwaXJlcyk8IHRpbWUoKSkkZ2V0X2RhdGEgPSAxO2Vsc2V7JGZlbGRlciA9ICR0aGlzLT51c2VyRGF0YTt1bnNldCgkZmVsZGVyWyd0aW1lc3RhbXAnXSk7JHRoaXMtPldyaXRlTG9nKDEsJ0dldFVzZXJJbmZvOiB1c2UgY2FjaGVkIGRhdGEnKTt9fX19fWVsc2V7JGlzX2ZyaWVuZCA9IDA7aWYoZW1wdHkoJHRoaXMtPnVzZXJGcmllbmRzRGF0YVsnZnJpZW5kcyddKSl7JGdldF9kYXRhID0gMTt9ZWxzZXtpZihpbl9hcnJheSgkdXNlcmlkLCR0aGlzLT51c2VyRnJpZW5kc0RhdGFbJ2ZyaWVuZHMnXSkpeyRpc19mcmllbmQgPSAxOyRnZXRfZGF0YSA9IDA7fWVsc2V7JGdldF9kYXRhID0gMTt9fX1pZigkZ2V0X2RhdGEgPT0gMSl7aWYoKCRmZWxkZXIgPSAkdGhpcy0+R3JhcGhBUEkoJy8nLiR1c2VyaWQpKT09PUZBTFNFKXtyZXR1cm4gRkFMU0U7fWVsc2V7JHBpY3R1cmVzID0gJHRoaXMtPmdldFVzZXJQaWN0dXJlKCR1c2VyaWQpO2lmKCRwaWN0dXJlcyA9PT0gRkFMU0UpeyRmZWxkZXJbJ3BpY3R1cmUnXSA9ICcnOyRmZWxkZXJbJ3BpY3R1cmVfaXNfc3ltYm9sJ10gPSBUUlVFOyRmZWxkZXJbJ3BpY3R1cmVzJ10gPSBhcnJheSgnc21hbGwnPT4nJywnbm9ybWFsJz0+JycsJ2xhcmdlJz0+JycsJ2JpZyc9PicnKTt9ZWxzZXtpZihzdHJwb3MoJHBpY3R1cmVzWydzbWFsbCddLCcuZ2lmJyk+MCkkZmVsZGVyWydwaWN0dXJlX2lzX3N5bWJvbCddID0gVFJVRTtlbHNlICRmZWxkZXJbJ3BpY3R1cmVfaXNfc3ltYm9sJ10gPSBGQUxTRTskZmVsZGVyWydwaWN0dXJlJ10gPSAkcGljdHVyZXNbJ3NtYWxsJ107JGZlbGRlclsncGljdHVyZXMnXSA9IGFycmF5KCdzbWFsbCcgPT4gJHBpY3R1cmVzWydzbWFsbCddLCdub3JtYWwnID0+ICRwaWN0dXJlc1snbm9ybWFsJ10sJ2xhcmdlJyA9PiAkcGljdHVyZXNbJ2xhcmdlJ10sJ2JpZycgPT4gJHBpY3R1cmVzWydsYXJnZSddICk7dW5zZXQoJHBpY3R1cmVzKTt9aWYoJHVzZXJpZCA9PSAkdGhpcy0+dXNlcklEKXskdGhpcy0+dXNlckRhdGEgPSAkZmVsZGVyO3Vuc2V0KCR0aGlzLT51c2VyRGF0YVsnbG9jYWxlJ10pOyR0aGlzLT51c2VyRGF0YVsndGltZXN0YW1wJ10gPSB0aW1lKCk7JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTt9fX1lbHNlaWYoJGlzX2ZyaWVuZCA9PSAxKXskZmVsZGVyWydpZCddID0gJHVzZXJpZDskZmVsZGVyID0gYXJyYXlfbWVyZ2UoJGZlbGRlciwkdGhpcy0+dXNlckZyaWVuZHNEYXRhWyR1c2VyaWRdKTt9JHVzZXJkYXRhID0gYXJyYXkoKTtpZigkcGFyYW1zID09ICcnKXskdXNlcmRhdGEgPSAkZmVsZGVyO31lbHNle2lmKGlzX2FycmF5KCRwYXJhbXMpKXtmb3JlYWNoKCRwYXJhbXMgYXMgJHZhbCl7aWYoc3RybGVuKCR2YWwpPjEpeyR1c2VyZGF0YVskdmFsXSA9ICRmZWxkZXJbJHZhbF07fX19ZWxzZXtpZihzdHJsZW4oJHBhcmFtcyk+MSl7JHVzZXJkYXRhWyRwYXJhbXNdID0gJGZlbGRlclskcGFyYW1zXTt9fX1yZXR1cm4gJHVzZXJkYXRhO319cHVibGljIGZ1bmN0aW9uIEdldEZyaWVuZHNJbmZvKCR1aWRzPScnKXtpZigkdGhpcy0+cnVuTW9kZTw+J2FwcCcpeyR0aGlzLT5sYXN0RXJyb3IgPSBOT1RfSU5fVEhJU19NT0RFOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAzMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZihlbXB0eSgkdGhpcy0+YWNjZXNzVG9rZW4pKXskdGhpcy0+bGFzdEVycm9yID0gJ2FjY2Vzc190b2tlbiBub3QgYXZhaWxhYmxlIC0gcGxlYXNlIEF1dGggZmlyc3QnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyNDskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZigkdGhpcy0+dXNlcklEID09ICcnKXskdGhpcy0+bGFzdEVycm9yID0gJ3VzZXJJRCBpcyBub3QgYXZhaWxhYmxlJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXskZ2V0X2RhdGEgPSAwO2lmKCR0aGlzLT5jYWNoaW5nID09PSBGQUxTRSl7JGdldF9kYXRhID0gMTt9ZWxzZXtpZihjb3VudCgkdGhpcy0+dXNlckZyaWVuZHNEYXRhKTwgMSl7JGdldF9kYXRhID0gMTt9ZWxzZXtpZigoJHRoaXMtPnVzZXJGcmllbmRzRGF0YVsndGltZXN0YW1wJ10gKyAkdGhpcy0+Y2FjaGVFeHBpcmVzKTwgdGltZSgpKSRnZXRfZGF0YSA9IDE7fX1pZigkZ2V0X2RhdGEgPT0gMSl7aWYoKCRmcmllbmRzX2RhdGEgPSAkdGhpcy0+R3JhcGhBUEkoJy8nLiR0aGlzLT51c2VySUQuJy9mcmllbmRzJykpPT09IEZBTFNFKXtyZXR1cm4gRkFMU0U7fWVsc2V7JG5ld19mcmllbmRzX2RhdGEgPSBhcnJheSgpO2ZvcigkaSA9IDA7JGkgPCBjb3VudCgkZnJpZW5kc19kYXRhWydkYXRhJ10pOyRpKyspeyRpZGQgPSAkZnJpZW5kc19kYXRhWydkYXRhJ11bJGldWydpZCddOyRuZXdfZnJpZW5kc19kYXRhWydmcmllbmRzJ11bXSA9ICRpZGQ7Zm9yZWFjaCgkZnJpZW5kc19kYXRhWydkYXRhJ11bJGldIGFzICRrZXkgPT4gJHZhbHVlKXtpZigka2V5ID09ICdpZCcpY29udGludWU7ZWxzZWlmKCRrZXkgPT0gJ25hbWUnKSRuZXdfZnJpZW5kc19kYXRhWyRpZGRdWyRrZXldID0gdXRmOF9kZWNvZGUoJHZhbHVlKTtlbHNlICRuZXdfZnJpZW5kc19kYXRhWyRpZGRdWyRrZXldID0gJHZhbHVlO319aWYoY291bnQoJG5ld19mcmllbmRzX2RhdGFbJ2ZyaWVuZHMnXSk+IDApeyRzcWxfZnJpZW5kcyA9ICdTRUxFQ1QgdWlkLG5hbWUsZmlyc3RfbmFtZSxtaWRkbGVfbmFtZSxsYXN0X25hbWUsc2V4LHBpY19zbWFsbCxwaWNfYmlnLHBpY19zcXVhcmUscGljLGFmZmlsaWF0aW9ucyxwcm9maWxlX3VwZGF0ZV90aW1lLHRpbWV6b25lLHJlbGlnaW9uLGJpcnRoZGF5LGJpcnRoZGF5X2RhdGUsaG9tZXRvd25fbG9jYXRpb24sbWVldGluZ19zZXgsbWVldGluZ19mb3IscmVsYXRpb25zaGlwX3N0YXR1cyxzaWduaWZpY2FudF9vdGhlcl9pZCxwb2xpdGljYWwsY3VycmVudF9sb2NhdGlvbixhY3Rpdml0aWVzLGludGVyZXN0cyxpc19hcHBfdXNlcixtdXNpYyx0dixtb3ZpZXMsYm9va3MscXVvdGVzLGFib3V0X21lLGhzX2luZm8sZWR1Y2F0aW9uX2hpc3Rvcnksd29ya19oaXN0b3J5LG5vdGVzX2NvdW50LHdhbGxfY291bnQsc3RhdHVzLGhhc19hZGRlZF9hcHAsb25saW5lX3ByZXNlbmNlLGxvY2FsZSxwcm94aWVkX2VtYWlsLHByb2ZpbGVfdXJsLGVtYWlsX2hhc2hlcyxhbGxvd2VkX3Jlc3RyaWN0aW9ucyx2ZXJpZmllZCxwcm9maWxlX2JsdXJiLGZhbWlseSx1c2VybmFtZSx3ZWJzaXRlLGlzX2Jsb2NrZWQsY29udGFjdF9lbWFpbCxlbWFpbCx0aGlyZF9wYXJ0eV9pZCBGUk9NIHVzZXIgV0hFUkUgJztpZihjb3VudCgkbmV3X2ZyaWVuZHNfZGF0YVsnZnJpZW5kcyddKT09IDEpeyRzcWxfZnJpZW5kcyAuPSAndWlkID0gJy4kbmV3X2ZyaWVuZHNfZGF0YVsnZnJpZW5kcyddWzBdO31lbHNleyRmcmllbmRzX2lkcyA9ICcnO2ZvcmVhY2goJG5ld19mcmllbmRzX2RhdGFbJ2ZyaWVuZHMnXSBhcyAkdmFsdWUpJGZyaWVuZHNfaWRzLj0kdmFsdWUuJywnOyRmcmllbmRzX2lkcyA9IHN1YnN0cigkZnJpZW5kc19pZHMsMCwtMSk7JHNxbF9mcmllbmRzIC49ICd1aWQgSU4oJy4kZnJpZW5kc19pZHMuJyknO30kdGVzdCA9ICR0aGlzLT5GUUwoJHNxbF9mcmllbmRzKTtpZigkdGVzdCA9PT0gRkFMU0Upe31lbHNle2lmKCFlbXB0eSgkdGVzdFsndWlkJ10pKSR0ZXN0ID0gYXJyYXkoJHRlc3QpO2ZvcmVhY2goJHRlc3QgYXMgJGtleSl7JHVpZGQgPSAka2V5Wyd1aWQnXTt1bnNldCgka2V5Wyd1aWQnXSk7Zm9yZWFjaCgka2V5IGFzICRrZXkyID0+ICR2YWx1ZTIpe2lmKCRrZXkyPD4naGFzX2FkZGVkX2FwcCcgJiYgJGtleTI8Pidpc19hcHBfdXNlcicgJiYgZW1wdHkoJHZhbHVlMikpdW5zZXQoJGtleVska2V5Ml0pO30kbmV3X2ZyaWVuZHNfZGF0YVskdWlkZF0gPSBhcnJheV9tZXJnZSgkbmV3X2ZyaWVuZHNfZGF0YVskdWlkZF0sJGtleSk7fX19JHRoaXMtPnVzZXJGcmllbmRzRGF0YSA9ICRuZXdfZnJpZW5kc19kYXRhOyR0aGlzLT51c2VyRnJpZW5kc0RhdGFbJ3RpbWVzdGFtcCddID0gdGltZSgpO3Vuc2V0KCRmcmllbmRzX2RhdGEpO3Vuc2V0KCRuZXdfZnJpZW5kc19kYXRhKTt9JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTt9ZWxzZXskdGhpcy0+V3JpdGVMb2coMSwnR2V0RnJpZW5kc0luZm86IHVzZSBjYWNoZWQgZGF0YScpO31pZigkdWlkcyA9PSAnJylyZXR1cm4gJHRoaXMtPnVzZXJGcmllbmRzRGF0YTtlbHNle2lmKGlzX2FycmF5KCR1aWRzKSl7JGZkYXRhPWFycmF5KCk7Zm9yZWFjaCgkdWlkcyBhcyAkdmFsdWUpeyRmZGF0YVskdmFsdWVdID0gJHRoaXMtPnVzZXJGcmllbmRzRGF0YVskdmFsdWVdO319ZWxzZXskZmRhdGFbJ3VpZCddID0gJHVpZHM7JGZkYXRhID0gYXJyYXlfbWVyZ2UoJGZkYXRhLCR0aGlzLT51c2VyRnJpZW5kc0RhdGFbJHVpZHNdKTt9cmV0dXJuICRmZGF0YTt9fX1wdWJsaWMgZnVuY3Rpb24gR2V0TGlrZXMoJGNhdGVnb3J5PScnLCRuYW1lPScnLCRmcm9tX2NhY2hlPVRSVUUpe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKGVtcHR5KCR0aGlzLT5hY2Nlc3NUb2tlbikpeyR0aGlzLT5sYXN0RXJyb3IgPSAnYWNjZXNzX3Rva2VuIG5vdCBhdmFpbGFibGUgLSBwbGVhc2UgQXV0aCBmaXJzdCc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDI0OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKCFlbXB0eSgkY2F0ZWdvcnkpJiYgc3RybGVuKCRjYXRlZ29yeSk8PTMpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIvcHJvcGVydHkoY2F0ZWdvcnkpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTk7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9aWYoIWVtcHR5KCRuYW1lKSYmIHN0cmxlbigkbmFtZSk8PTIpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIvcHJvcGVydHkobmFtZSknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZihlbXB0eSgkdGhpcy0+dXNlcklEKSl7JHRoaXMtPmxhc3RFcnJvciA9ICd1c2VySUQgaXMgZW1wdHknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO30kdXNlcmlkID0gJHRoaXMtPnVzZXJJRDtpZigkdGhpcy0+Y2FjaGluZyA9PT0gRkFMU0UpeyRnZXRfZGF0YSA9IDE7fWVsc2V7aWYoJGZyb21fY2FjaGU9PT1GQUxTRSl7JGdldF9kYXRhID0gMTt9ZWxzZXtpZihlbXB0eSgkdGhpcy0+dXNlckxpa2VzWyd0aW1lc3RhbXAnXSkpeyRnZXRfZGF0YSA9IDE7fWVsc2VpZigoJHRoaXMtPnVzZXJMaWtlc1sndGltZXN0YW1wJ10gKyAkdGhpcy0+Y2FjaGVFeHBpcmVzKT4gdGltZSgpKXskZ2V0X2RhdGEgPSAwO31lbHNleyRnZXRfZGF0YSA9IDE7fX19aWYoJGdldF9kYXRhIDw+IDEgJiYgJHVzZXJpZD09JHRoaXMtPnVzZXJJRCl7JGxpa2VzID0gJHRoaXMtPnVzZXJMaWtlcztpZihpc3NldCgkbGlrZXNbJ3RpbWVzdGFtcCddKSl1bnNldCgkbGlrZXNbJ3RpbWVzdGFtcCddKTskdGhpcy0+V3JpdGVMb2coMSwnR2V0TGlrZXM6IHVzZSBjYWNoZWQgZGF0YScpO31lbHNle2lmKCgkbGlrZXMgPSAkdGhpcy0+R3JhcGhBUEkoJy8nLiR1c2VyaWQuJy9saWtlcycpKT09PSBGQUxTRSl7cmV0dXJuIEZBTFNFO31lbHNleyRsaWtlcyA9ICRsaWtlc1snZGF0YSddO2lmKCR1c2VyaWQgPT0gJHRoaXMtPnVzZXJJRCl7JHRoaXMtPnVzZXJMaWtlcyA9ICRsaWtlczskdGhpcy0+dXNlckxpa2VzWyd0aW1lc3RhbXAnXSA9IHRpbWUoKTskdGhpcy0+V3JpdGVJbnN0YW5jZVRvU2Vzc2lvbigpO319fWlmKCFlbXB0eSgkY2F0ZWdvcnkpKXskY2F0ZWdvcnkgPSBzdHJ0b2xvd2VyKCRjYXRlZ29yeSk7JHggPSAwO3doaWxlKCFlbXB0eSgkbGlrZXNbJHhdKSl7aWYoc3RydG9sb3dlcigkbGlrZXNbJHhdWydjYXRlZ29yeSddKTw+ICRjYXRlZ29yeSl1bnNldCgkbGlrZXNbJHhdKTskeCsrO319aWYoIWVtcHR5KCRuYW1lKSl7JG5hbWUgPSBzdHJ0b2xvd2VyKCRuYW1lKTtmb3JlYWNoKCRsaWtlcyBhcyAkdmFsID0+ICRrZXkpe2lmKHN0cnRvbG93ZXIoJGtleVsnbmFtZSddKTw+ICRuYW1lKXVuc2V0KCRsaWtlc1skdmFsXSk7fX0kbGlrZXMyID0gYXJyYXkoKTtpZihjb3VudCgkbGlrZXMpPj0xKXtmb3JlYWNoKCRsaWtlcyBhcyAkdmFsID0+ICRrZXkpJGxpa2VzMltdPSRrZXk7fXJldHVybiAkbGlrZXMyO31wdWJsaWMgZnVuY3Rpb24gR2V0T2JqZWN0SW5mbygkb2JqZWN0aWQpe2lmKGVtcHR5KCRvYmplY3RpZCkpeyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwYXJhbWV0ZXIoT2JqZWN0X2lkKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7aWYoKCRsaWtlaW5mbyA9ICR0aGlzLT5HcmFwaEFQSSgnLycuJG9iamVjdGlkKSk9PT0gRkFMU0Upe3JldHVybiBGQUxTRTt9ZWxzZXtyZXR1cm4gJGxpa2VpbmZvO319fXB1YmxpYyBmdW5jdGlvbiBHZXRMb2NhdGlvbkluZm8oJGlkZCl7aWYoZW1wdHkoJGlkZCkpeyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwYXJhbWV0ZXIoTG9jYXRpb25faWQpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZigoJGxvY2luZm8gPSAkdGhpcy0+R3JhcGhBUEkoJy8nLiRpZGQpKT09PSBGQUxTRSl7cmV0dXJuIEZBTFNFO31lbHNle3JldHVybiAkbG9jaW5mbzt9fX1wdWJsaWMgZnVuY3Rpb24gR2V0RGFzaGJvYXJkKCRjb3VudD0yNSl7aWYoJHRoaXMtPnJ1bk1vZGU8PidhcHAnKXskdGhpcy0+bGFzdEVycm9yID0gTk9UX0lOX1RISVNfTU9ERTskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMzE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9aWYoZW1wdHkoJHRoaXMtPmFjY2Vzc1Rva2VuKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdhY2Nlc3NfdG9rZW4gbm90IGF2YWlsYWJsZSAtIHBsZWFzZSBBdXRoIGZpcnN0JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjQ7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9JHVpZCA9ICR0aGlzLT51c2VySUQ7aWYoZW1wdHkoJHVpZCkpeyR0aGlzLT5sYXN0RXJyb3IgPSAndXNlcklEIGlzIG5vdCBhdmFpbGFibGUnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyMzskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZigoJGhvbWUgPSAkdGhpcy0+R3JhcGhBUEkoJy8nLiR1aWQuJy9mZWVkP2xpbWl0PScuJGNvdW50KSk9PT0gRkFMU0Upe3JldHVybiBGQUxTRTt9ZWxzZXskaG9tZSA9ICRob21lWydkYXRhJ107cmV0dXJuICRob21lO319cHVibGljIGZ1bmN0aW9uIFBvc3RUb0Rhc2hib2FyZCgkYXJyKXtpZigkdGhpcy0+cnVuTW9kZTw+J2FwcCcpeyR0aGlzLT5sYXN0RXJyb3IgPSBOT1RfSU5fVEhJU19NT0RFOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAzMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZihlbXB0eSgkdGhpcy0+YWNjZXNzVG9rZW4pKXskdGhpcy0+bGFzdEVycm9yID0gJ2FjY2Vzc190b2tlbiBub3QgYXZhaWxhYmxlIC0gcGxlYXNlIEF1dGggZmlyc3QnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyNDskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZihjb3VudCgkYXJyKT09MCl7JHRoaXMtPmxhc3RFcnJvciA9ICdNaXNzaW5nIHBhcmFtZXRlcic7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2VpZigkYXJyWydtZXNzYWdlJ109PScnICYmICRhcnJbJ2xpbmsnXT09JycgJiYgJGFyclsnbmFtZSddPT0nJyl7JHRoaXMtPmxhc3RFcnJvciA9ICdNaXNzaW5nIHNvbWUgcGFyYW1ldGVycyhtZXNzYWdlL2xpbmsvbmFtZSknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNlaWYoIWVtcHR5KCRhcnJbJ2Rlc2NyaXB0aW9uJ10pJiYgc3RybGVuKCRhcnJbJ2Rlc2NyaXB0aW9uJ10pPjEwMDApeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIvcHJvcGVydHkoZGVzY3JpcHRpb24gdG9vIGxvbmcsbWF4aW11bSAxMDAwIGNoYXJzKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE5OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7aWYoZW1wdHkoJHRoaXMtPmFjY2Vzc1Rva2VuKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdhY2Nlc3NfdG9rZW4gbm90IGF2YWlsYWJsZSAtIHBsZWFzZSBBdXRoIGZpcnN0JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjQ7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9aWYoIWlzc2V0KCRhcnJbJ2Rlc2NyaXB0aW9uJ10pfHwgZW1wdHkoJGFyclsnZGVzY3JpcHRpb24nXSkpJGFyclsnZGVzY3JpcHRpb24nXSA9ICc8c3Bhbj48aT48L2k+PC9zcGFuPic7aWYoIWlzc2V0KCRhcnJbJ2NhcHRpb24nXSl8fCBlbXB0eSgkYXJyWydjYXB0aW9uJ10pKSRhcnJbJ2NhcHRpb24nXSA9ICc8c3Bhbj48aT48L2k+PC9zcGFuPic7Zm9yZWFjaCgkYXJyIGFzICRrZXkgPT4gJHZhbHVlKXtpZighaXNfc3RyaW5nKCR2YWx1ZSkpeyRhcnJbJGtleV0gPSBqc29uX2VuY29kZSgkdmFsdWUpO31lbHNlaWYoaXNfc3RyaW5nKCR2YWx1ZSkpeyRhcnJbJGtleV0gPSB1dGY4X2VuY29kZSgkdmFsdWUpO319JHJlcyA9ICR0aGlzLT5HcmFwaEFQSSgnL21lL2ZlZWQnLCRhcnIsRkFMU0UsVFJVRSk7aWYoJHJlcyA9PT0gRkFMU0Upe3JldHVybiBGQUxTRTt9ZWxzZXtyZXR1cm4gJHJlc1snaWQnXTt9fX1wdWJsaWMgZnVuY3Rpb24gUG9zdExpbmtUb0Rhc2hib2FyZCgkbGluaywkYWN0aW9uPScnLCRwcml2YWN5PScnKXtpZigkdGhpcy0+cnVuTW9kZTw+J2FwcCcpeyR0aGlzLT5sYXN0RXJyb3IgPSBOT1RfSU5fVEhJU19NT0RFOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAzMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZihlbXB0eSgkdGhpcy0+YWNjZXNzVG9rZW4pKXskdGhpcy0+bGFzdEVycm9yID0gJ2FjY2Vzc190b2tlbiBub3QgYXZhaWxhYmxlIC0gcGxlYXNlIEF1dGggZmlyc3QnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyNDskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZihlbXB0eSgkbGluaykpeyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwYXJhbWV0ZXIoTGluayknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNle2lmKCRhY3Rpb248PicnICYmIGNvdW50KCRhY3Rpb24pPD4yKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyL3Byb3BlcnR5KEFjdGlvbiknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRlaW50cmFnPWFycmF5KCAnbWVzc2FnZScgPT4gJGxpbmssJ25hbWUnID0+ICcnLCdsaW5rJyA9PiAnJywnY2FwdGlvbicgPT4gJycsJ3BpY3R1cmUnID0+ICcnLCdkZXNjcmlwdGlvbicgPT4gJycsKTtpZigkYWN0aW9uPT0nJykkZWludHJhZ1snYWN0aW9ucyddID0gJyc7ZWxzZXskZWludHJhZ1snYWN0aW9ucyddID0gJGFjdGlvbjt9aWYoJHByaXZhY3k9PScnIG9yIHN0cmxlbigkcHJpdmFjeSk8PTIpJGVpbnRyYWdbJ3ByaXZhY3knXSA9IGFycmF5KCd2YWx1ZSc9PidFVkVSWU9ORScpO2Vsc2UgJGVpbnRyYWdbJ3ByaXZhY3knXSA9IGFycmF5KCd2YWx1ZSc9PiRwcml2YWN5KTskZXJnID0gJHRoaXMtPlBvc3RUb0Rhc2hib2FyZCgkZWludHJhZyk7aWYoJGVyZz09PUZBTFNFKXtyZXR1cm4gRkFMU0U7fWVsc2V7cmV0dXJuICRlcmc7fX19fXB1YmxpYyBmdW5jdGlvbiBHZXRBbGJ1bXMoJGFsYnVtX25hbWU9JycsJGFsYnVtX2lkPScnLCRmcm9tX2lkPScnLCR1c2VyaWQ9JycsJGZyb21fY2FjaGU9RkFMU0Upe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKGVtcHR5KCR0aGlzLT5hY2Nlc3NUb2tlbikpeyR0aGlzLT5sYXN0RXJyb3IgPSAnYWNjZXNzX3Rva2VuIG5vdCBhdmFpbGFibGUgLSBwbGVhc2UgQXV0aCBmaXJzdCc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDI0OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKGVtcHR5KCR1c2VyaWQpKSR1c2VyaWQgPSAkdGhpcy0+dXNlcklEO2lmKCR1c2VyaWQgPT0gJHRoaXMtPnVzZXJJRCl7aWYoJHRoaXMtPmNhY2hpbmcgPT09IEZBTFNFKXskZ2V0X2RhdGEgPSAxO31lbHNle2lmKCRmcm9tX2NhY2hlPT09RkFMU0UpeyRnZXRfZGF0YSA9IDE7fWVsc2V7aWYoZW1wdHkoJHRoaXMtPnVzZXJBbGJ1bXNbJ3RpbWVzdGFtcCddKSl7JGdldF9kYXRhID0gMTt9ZWxzZWlmKCgkdGhpcy0+dXNlckFsYnVtc1sndGltZXN0YW1wJ10gKyAkdGhpcy0+Y2FjaGVFeHBpcmVzKT4gdGltZSgpKXskZ2V0X2RhdGEgPSAwO31lbHNleyRnZXRfZGF0YSA9IDE7fX19fWVsc2V7JGdldF9kYXRhID0gMTt9aWYoJGdldF9kYXRhIDw+IDEgJiYgJHVzZXJpZD09JHRoaXMtPnVzZXJJRCl7JGFsYnVtcyA9ICR0aGlzLT51c2VyQWxidW1zO2lmKCFlbXB0eSgkYWxidW1zWyd0aW1lc3RhbXAnXSkpdW5zZXQoJGFsYnVtc1sndGltZXN0YW1wJ10pOyR0aGlzLT5Xcml0ZUxvZygxLCdHZXRBbGJ1bXM6IHVzZSBjYWNoZWQgZGF0YScpO31lbHNle2lmKCgkYWxidW1zID0gJHRoaXMtPkdyYXBoQVBJKCcvJy4kdXNlcmlkLicvYWxidW1zJykpPT09IEZBTFNFKXtyZXR1cm4gRkFMU0U7fWVsc2V7JGFsYnVtcyA9ICRhbGJ1bXNbJ2RhdGEnXTtpZigkdXNlcmlkID09ICR0aGlzLT51c2VySUQpeyR0aGlzLT51c2VyQWxidW1zID0gJGFsYnVtczskdGhpcy0+dXNlckFsYnVtc1sndGltZXN0YW1wJ10gPSB0aW1lKCk7JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTt9fX1pZighZW1wdHkoJGFsYnVtX2lkKSl7JHggPSAwO3doaWxlKCFlbXB0eSgkYWxidW1zWyR4XSkpe2lmKCRhbGJ1bXNbJHhdWydpZCddIDw+ICRhbGJ1bV9pZCl1bnNldCgkYWxidW1zWyR4XSk7JHgrKzt9fWlmKCFlbXB0eSgkYWxidW1fbmFtZSkpeyRhbGJ1bV9uYW1lID0gc3RydG9sb3dlcigkYWxidW1fbmFtZSk7JHggPSAwO3doaWxlKCFlbXB0eSgkYWxidW1zWyR4XSkpe2lmKCRhbGJ1bXNbJHhdWyduYW1lJ10gPD4gJGFsYnVtX25hbWUpdW5zZXQoJGFsYnVtc1skeF0pOyR4Kys7fX1pZighZW1wdHkoJGZyb21faWQpKXskeCA9IDA7d2hpbGUoIWVtcHR5KCRhbGJ1bXNbJHhdKSl7aWYoJGFsYnVtc1skeF1bJ2Zyb20nXVsnaWQnXSA8PiAkZnJvbV9pZCl1bnNldCgkYWxidW1zWyR4XSk7JHgrKzt9fSRhbGJ1bXMyID0gYXJyYXkoKTtpZihjb3VudCgkYWxidW1zKT49MSl7Zm9yZWFjaCgkYWxidW1zIGFzICR2YWwgPT4gJGtleSkkYWxidW1zMltdPSRrZXk7fXJldHVybiAkYWxidW1zMjt9cHVibGljIGZ1bmN0aW9uIENyZWF0ZUFsYnVtKCRuYW1lLCRjYXB0aW9uPScnLCR1c2VyaWQ9Jycpe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKGVtcHR5KCR0aGlzLT5hY2Nlc3NUb2tlbikpeyR0aGlzLT5sYXN0RXJyb3IgPSAnYWNjZXNzX3Rva2VuIG5vdCBhdmFpbGFibGUgLSBwbGVhc2UgQXV0aCBmaXJzdCc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDI0OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKGVtcHR5KCRuYW1lKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdNaXNzaW5nIHBhcmFtZXRlcihBbGJ1bSBuYW1lKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7aWYoZW1wdHkoJHVzZXJpZCkpJHVzZXJpZD0kdGhpcy0+dXNlcklEO2lmKGVtcHR5KCR1c2VyaWQpKXskdGhpcy0+bGFzdEVycm9yID0gJ01pc3NpbmcgcGFyYW1ldGVyKHVzZXJJRCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRyZXMgPSAkdGhpcy0+R3JhcGhBUEkoJy8nLiR1c2VyaWQuJy9hbGJ1bXMnLGFycmF5KCduYW1lJyA9PiAkbmFtZSwnbWVzc2FnZScgPT4gJGNhcHRpb24pLEZBTFNFLFRSVUUpO2lmKCRyZXMgPT09IEZBTFNFKXtyZXR1cm4gRkFMU0U7fWVsc2V7cmV0dXJuICRyZXNbJ2lkJ107fX19fXB1YmxpYyBmdW5jdGlvbiBQb3N0VG9BbGJ1bSgkYXJyLCRub0Rhc2hib2FyZCA9IDApe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKGVtcHR5KCR0aGlzLT5hY2Nlc3NUb2tlbikpeyR0aGlzLT5sYXN0RXJyb3IgPSAnYWNjZXNzX3Rva2VuIG5vdCBhdmFpbGFibGUgLSBwbGVhc2UgQXV0aCBmaXJzdCc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDI0OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKGVtcHR5KCRhcnJbJ3BpY2ZpbGUnXSkpeyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwYXJhbWV0ZXIoUGljdHVyZSBQYXRoL1VSTCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNle2lmKCFlbXB0eSgkYXJyWydsaW5rJ10pKXtpZihzdWJzdHIoc3RydG9sb3dlcigkYXJyWydsaW5rJ10pLDAsNCk9PSAnd3d3LicpeyRhcnJbJ2xpbmsnXSA9ICdodHRwOi8vJy4kYXJyWydsaW5rJ107fWVsc2VpZihzdWJzdHIoc3RydG9sb3dlcigkYXJyWydsaW5rJ10pLDAsNyk8PiAnaHR0cDovLycpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIvcHJvcGVydHkobGluayBtdXN0IHN0YXJ0IHdpdGggImh0dHA6Ly8iKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE5OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fX0kZmlsZTJkZWxldGUgPSAnJztpZihzdWJzdHIoJGFyclsncGljZmlsZSddLDAsNCk9PSdodHRwJyB8fCBzdWJzdHIoJGFyclsncGljZmlsZSddLDAsNCk9PSd3d3cuJyl7JGNvbnRlbnQgPSBmaWxlX2dldF9jb250ZW50cygkYXJyWydwaWNmaWxlJ10pO2lmKHN0cmxlbigkY29udGVudCk8MjAwKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyL3Byb3BlcnR5KFBpY3R1cmUgbm90IGZvdW5kKScuIlxuIi4nW1BpY3R1cmUgVVJMIHNlbmQ6KExlbmd0aD0nLnN0cmxlbigkY29udGVudCkuJykiJy4kY29udGVudC4nIl0nOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyR0ZW1wX2RpciA9ICR0aGlzLT5nZXRUZW1wRGlyKCk7aWYoJHRlbXBfZGlyID09PSBGQUxTRSl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlci9wcm9wZXJ0eShQaWN0dXJlX1VSTCBpc3Qgbm90IHN1cHBvcnRlZCBvbiB0aGlzIHNlcnZlciknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyR0ZW1wX2Rpci49bWQ1KHRpbWUoKSk7JHB1dF9maWxlID0gQGZvcGVuKCR0ZW1wX2RpciwndysnKTtpZigkcHV0X2ZpbGUpeyRoYW5kZWwgPSBmd3JpdGUoJHB1dF9maWxlLCRjb250ZW50KTtmY2xvc2UoJHB1dF9maWxlKTt9JGFyclsncGljZmlsZSddID0gJHRlbXBfZGlyOyRmaWxlMmRlbGV0ZSA9ICR0ZW1wX2Rpcjt9fX1pZighZmlsZV9leGlzdHMoJGFyclsncGljZmlsZSddKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlci9wcm9wZXJ0eShQaWN0dXJlIG5vdCBmb3VuZCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRhcnJbJ3BpY2ZpbGUnXSA9ICdAJy4kYXJyWydwaWNmaWxlJ107fWlmKGVtcHR5KCRhcnJbJ2FsYnVtX2lkJ10pKXskYXJyWydhbGJ1bV9pZCddID0gJHRoaXMtPnVzZXJJRDt9aWYoIWVtcHR5KCRhcnJbJ2xpbmsnXSkpJGFyclsnY2FwdGlvbiddIC49ICcgJy4kYXJyWydsaW5rJ107JHJlcyA9ICR0aGlzLT5HcmFwaEFQSSgnLycuJGFyclsnYWxidW1faWQnXS4nL3Bob3RvcycsYXJyYXkoJ3NvdXJjZScgPT4gJGFyclsncGljZmlsZSddLCdtZXNzYWdlJyA9PiAkYXJyWydjYXB0aW9uJ10pLEZBTFNFLFRSVUUpO2lmKCFlbXB0eSgkZmlsZTJkZWxldGUpKXVubGluaygkZmlsZTJkZWxldGUpO2lmKCRyZXMgPT09IEZBTFNFKXtyZXR1cm4gRkFMU0U7fWVsc2V7cmV0dXJuICRyZXNbJ2lkJ107fX19cHVibGljIGZ1bmN0aW9uIEdldFBhZ2VJbmZvKCRwYWdlID0gMCl7aWYoZW1wdHkoJHBhZ2UpKXtpZigkdGhpcy0+Y2FsbEFzUGFnZSA9PT0gRkFMU0UpeyR0aGlzLT5sYXN0RXJyb3IgPSAnUGFnZUlEL05hbWUgbm90IGF2YWlsYWJsZSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDI1OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7aWYoJHRoaXMtPnBhZ2VJRCA+IDApeyRwYWdlID0gJHRoaXMtPnBhZ2VJRDt9ZWxzZXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgUGFnZUlEL05hbWUnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyNTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO319fWlmKCgkZmVsZGVyID0gJHRoaXMtPkdyYXBoQVBJKCcvJy4kcGFnZSkpPT09RkFMU0Upe3JldHVybiBGQUxTRTt9ZWxzZXtpZigkdGhpcy0+Y2FsbEFzUGFnZSA9PT0gVFJVRSAmJiAkZmVsZGVyWydpZCddID09ICR0aGlzLT5wYWdlSUQpeyR0aGlzLT5wYWdlRGF0YSA9ICRmZWxkZXI7dW5zZXQoJHRoaXMtPnBhZ2VEYXRhWydpZCddKTtpZigkdGhpcy0+YXBwRkJVUkwgPT0gJycpe2lmKHN0cnBvcygkZmVsZGVyWydsaW5rJ10sJz8nKT4wKSR0aGlzLT5hcHBGQlVSTCA9ICRmZWxkZXJbJ2xpbmsnXS4nJnNrPWFwcF8nLiR0aGlzLT5hcHBJRDtlbHNlICR0aGlzLT5hcHBGQlVSTCA9ICRmZWxkZXJbJ2xpbmsnXS4nP3NrPWFwcF8nLiR0aGlzLT5hcHBJRDt9fXJldHVybiAkZmVsZGVyO319cHVibGljIGZ1bmN0aW9uIEtpbGxJZnJhbWVCb3JkZXIoJHRhcmdldD0nJyl7cmV0dXJuICR0aGlzLT5LaWxsRmFjZWJvb2tCb3JkZXIoJHRhcmdldCk7fXB1YmxpYyBmdW5jdGlvbiBLaWxsRmFjZWJvb2tCb3JkZXIoJHRhcmdldD0nJyl7aWYoJHRoaXMtPnJ1bk91dG9mSWZyYW1lID09PSBUUlVFKXskdGhpcy0+bGFzdEVycm9yID0gJ3J1bm5pbmcgd2l0aG91dCBGYWNlYm9vayBib3JkZXInOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyNzskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNle2lmKCR0YXJnZXQ9PScnKXtpZigkdGhpcy0+cHJvdG9jb2wgPT0gJ2h0dHBzOi8vJyAmJiAkdGhpcy0+c3NsX3Byb3h5X3VybDw+JycpeyR0YXJnZXQgPSAkdGhpcy0+c3NsX3Byb3h5X3VybC4kX1NFUlZFUlsnUkVRVUVTVF9VUkknXTt9ZWxzZXskdGFyZ2V0ID0gJHRoaXMtPnByb3RvY29sLiRfU0VSVkVSWydIVFRQX0hPU1QnXS4kX1NFUlZFUlsnUkVRVUVTVF9VUkknXTt9fSR0aGlzLT5ydW5PdXRvZklmcmFtZSA9IFRSVUU7JHRoaXMtPldyaXRlSW5zdGFuY2VUb1Nlc3Npb24oKTskdGhpcy0+V3JpdGVMb2coMiwnRmFjZWJvb2sgYm9yZGVyIGtpbGxlZCcpO2VjaG8oIjxzY3JpcHQ+dG9wLmxvY2F0aW9uLmhyZWY9JyIuJHRhcmdldC4iJzs8L3NjcmlwdD4iKTtleGl0O319cHJpdmF0ZSBmdW5jdGlvbiBHZXRVUkwoJHVybGw9Jycpe2lmKHN0cmxlbigkdXJsbCk8PSA1KXskdGhpcy0+bGFzdEVycm9yID0gJ01pc3NpbmcgcGFyYW1ldGVyKFVSTCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTtyZXR1cm4gRkFMU0U7fWVsc2V7JGNoID0gY3VybF9pbml0KCk7JG9rID0gMTtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9VUkwsJHVybGwpPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9QT1NULGZhbHNlKT09PUZBTFNFKSRvayA9IDA7aWYoY3VybF9zZXRvcHQoJGNoLENVUkxPUFRfQ09OTkVDVFRJTUVPVVQsMTApPT09RkFMU0UpJG9rID0gMDtpZihjdXJsX3NldG9wdCgkY2gsQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUix0cnVlKT09PUZBTFNFKSRvayA9IDA7aWYoY3VybF9zZXRvcHQoJGNoLENVUkxPUFRfVElNRU9VVCw2MCk9PT1GQUxTRSkkb2sgPSAwO2lmKGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX1VTRVJBR0VOVCwnTW96aWxsYS81LjAoWDExO0xpbnV4KUdlY2tvIEZpcmVmb3gvNS4wJyk9PT1GQUxTRSkkb2sgPSAwO2lmKGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX1NTTF9WRVJJRllQRUVSLGZhbHNlKT09PSBGQUxTRSApJG9rID0gMDtpZigkb2s8PjEpe3RyaWdnZXJfZXJyb3IoY3VybF9lcnJvcigkY2gpKTskdGhpcy0+bGFzdEVycm9yID0gJ0NVUkwgc2V0dGluZyBmYWlsZWQnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMzskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRyZXN1bHQgPSBjdXJsX2V4ZWMoJGNoKTtpZigkcmVzdWx0ID09PSBGQUxTRSl7dHJpZ2dlcl9lcnJvcihjdXJsX2Vycm9yKCRjaCkpO2N1cmxfY2xvc2UoJGNoKTskdGhpcy0+bGFzdEVycm9yID0gJ0ludGVybmFsIEVycm9yKENVUkwgZXhlYyBmYWlsZWQpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDYgOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7Y3VybF9jbG9zZSgkY2gpO3JldHVybiAkcmVzdWx0O319fX1wcml2YXRlIGZ1bmN0aW9uIEdldEFwcEFjY2Vzc1Rva2VuKCl7JHRva2VuX3VybCA9ICdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9vYXV0aC9hY2Nlc3NfdG9rZW4/Z3JhbnRfdHlwZT1jbGllbnRfY3JlZGVudGlhbHMmY2xpZW50X2lkPScuJHRoaXMtPmFwcElELicmY2xpZW50X3NlY3JldD0nLiR0aGlzLT5BcHBTZWNLZXk7JGFjY2Vzc190b2tlbiA9ICR0aGlzLT5HZXRVUkwoJHRva2VuX3VybCk7aWYoISRhY2Nlc3NfdG9rZW4gfHwgc3RybGVuKCRhY2Nlc3NfdG9rZW4pPDIwIHx8IHN0cmxlbigkYWNjZXNzX3Rva2VuKT4yMDApeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW50ZXJuYWwgRXJyb3IoZ2V0dGluZyBhY2Nlc3NfdG9rZW4gZm9yIGFwcCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNjskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyRhY2Nlc3NfdG9rZW4gPSBzdWJzdHIoJGFjY2Vzc190b2tlbixzdHJwb3MoJGFjY2Vzc190b2tlbiwnPScpKzEpOyR0aGlzLT5hcHBBY2Nlc3NUb2tlbiA9ICRhY2Nlc3NfdG9rZW47JHRoaXMtPldyaXRlTG9nKDIsJ2FwcF9hY2Nlc3NfdG9rZW4gcmVxdWVzdGVkJyk7cmV0dXJuICRhY2Nlc3NfdG9rZW47fX1wdWJsaWMgZnVuY3Rpb24gU2V0QXBwUHJvcGVydHkoJHByb3BlcnR5LCR2YWx1ZSl7aWYoZW1wdHkoJHByb3BlcnR5KXx8IHN0cmxlbigkcHJvcGVydHkpPD0zIHx8IGVtcHR5KCR2YWx1ZSl8fCBzdHJsZW4oJHZhbHVlKTw9Myl7JHRoaXMtPmxhc3RFcnJvciA9ICdNaXNzaW5nIHBhcmFtZXRlcic7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7aWYoJHRoaXMtPmFwcEFjY2Vzc1Rva2VuID09ICcnKXtpZigkdGhpcy0+R2V0QXBwQWNjZXNzVG9rZW4oKT09PSBGQUxTRSlyZXR1cm4gRkFMU0U7fWlmKCR0aGlzLT5hcHBBY2Nlc3NUb2tlbiA9PSAnJyl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnRlcm5hbCBFcnJvcihhY2Nlc3NfdG9rZW4gZm9yIGFwcCBpcyBlbXB0eSknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNjskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyR1cmxsID0gUkVTVF9VUkwgLiAnP21ldGhvZD1hZG1pbi5zZXRBcHBQcm9wZXJ0aWVzJnByb3BlcnRpZXM9Jy51cmxlbmNvZGUoanNvbl9lbmNvZGUoYXJyYXkoICRwcm9wZXJ0eSA9PiAkdmFsdWUgKSkpLicmYWNjZXNzX3Rva2VuPScuJHRoaXMtPmFwcEFjY2Vzc1Rva2VuOyRyZXN1bHQgPSAkdGhpcy0+R2V0VVJMKCR1cmxsKTtpZigkcmVzdWx0ID09PSBGQUxTRSl7cmV0dXJuIEZBTFNFO31lbHNleyRyZXN1bHQgPSBzdHJpcF90YWdzKCRyZXN1bHQpO2lmKCRyZXN1bHQgPD4gMSl7JHRoaXMtPmxhc3RFcnJvciA9ICdGQiBlcnJvcjogJy5zdWJzdHIoJHJlc3VsdCwwLHN0cnBvcygkcmVzdWx0LCdtZXRob2QnKSk7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE1OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7cmV0dXJuIFRSVUU7fX19fX1wdWJsaWMgZnVuY3Rpb24gQWRkQXBwQXNQYWdlKCRhcGlfa2V5PScnKXtpZigkdGhpcy0+cnVuTW9kZTw+J2FwcCcpeyR0aGlzLT5sYXN0RXJyb3IgPSBOT1RfSU5fVEhJU19NT0RFOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAzMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZihlbXB0eSgkYXBpX2tleSl8fCBzdHJsZW4oJGFwaV9rZXkpPDgpe2lmKCFlbXB0eSgkdGhpcy0+YXBwSUQpJiYgc3RybGVuKCR0aGlzLT5hcHBJRCk+IDUpJGFwaV9rZXkgPSAkdGhpcy0+YXBwSUQ7ZWxzZXskdGhpcy0+bGFzdEVycm9yID0gJ2FwcElEIG5vdCBhdmFpbGFibGUnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO319aWYoJF9SRVFVRVNUWydhZHBhb2syJ10gPT0gJ29rJyl7cmV0dXJuICRfUkVRVUVTVFsnZmJfcGFnZV9pZCddO31lbHNlaWYoJF9SRVFVRVNUWydhZHBhb2syJ10gPT0gJ25vdG9rJyl7cmV0dXJuIC0xO31lbHNle2lmKCR0aGlzLT5hZGRQYWdlX3JlZGlyZWN0X3VybCA9PSAnJyl7JHJlcyA9ICR0aGlzLT5TZXRBcHBQcm9wZXJ0eSgncG9zdF9hdXRob3JpemVfcmVkaXJlY3RfdXJsJywkdGhpcy0+YXBwU2VydmVyVVJMLic/YWRwYW9rPW9rJyk7aWYoJHJlcyA9PT0gRkFMU0Upe3JldHVybiBGQUxTRTt9ZWxzZXskdGhpcy0+YWRkUGFnZV9yZWRpcmVjdF91cmwgPSAkdGhpcy0+YXBwU2VydmVyVVJMLic/YWRwYW9rPW9rJzskdGhpcy0+V3JpdGVMb2coMiwnQWRkQXBwVGFyZ2V0IHNldCBzdWNjZXNzZnVsbHknKTt9fSR1cmxsID0gJHRoaXMtPnByb3RvY29sLid3d3cuZmFjZWJvb2suY29tL2FkZC5waHA/YXBpX2tleT0nLiRhcGlfa2V5LicmcGFnZXM9MSc7aWYoJHRoaXMtPnByb3RvY29sID09ICdodHRwczovLycgJiYgJHRoaXMtPnNzbF9wcm94eV91cmw8PicnKXskdGhpcy0+b2tVUkwgPSAkdGhpcy0+c3NsX3Byb3h5X3VybC4kX1NFUlZFUlsnUkVRVUVTVF9VUkknXTt9ZWxzZXskdGhpcy0+b2tVUkwgPSAkdGhpcy0+cHJvdG9jb2wuJF9TRVJWRVJbJ0hUVFBfSE9TVCddLiRfU0VSVkVSWydSRVFVRVNUX1VSSSddO30kdGhpcy0+V3JpdGVJbnN0YW5jZVRvU2Vzc2lvbigpO2VjaG8gIjxzY3JpcHQ+dG9wLmxvY2F0aW9uLmhyZWY9JyIuJHVybGwuIic7PC9zY3JpcHQ+IjtleGl0O319cHVibGljIGZ1bmN0aW9uIEFkZEFwcFRvUGFnZSgpeyRyZXQgPSAkdGhpcy0+QWRkQXBwQXNQYWdlKCR0aGlzLT5hcHBJRCk7cmV0dXJuICRyZXQ7fXB1YmxpYyBmdW5jdGlvbiBTZWFyY2hTaXRlKCRrZXl3b3JkLCR0eXBlLCRjb3VudD0wLCRtb2RlPTApeyR0eXBlID0gdHJpbSgkdHlwZSk7JGtleXdvcmQgPSB0cmltKCRrZXl3b3JkKTtpZighaXNfbnVtZXJpYygkbW9kZSlPUiAkbW9kZTwgMCBPUiAkbW9kZSA+IDEpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIvcHJvcGVydHkobW9kZSknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNlaWYodHJpbSgkdHlwZSk9PSAncGxhY2UnKXskdGhpcy0+bGFzdEVycm9yID0gJ1Vuc3VwcG9ydGVkIHR5cGUgZm9yIHNlYXJjaCgicGxhY2UiKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE5OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2VpZihlbXB0eSgkdHlwZSkpeyR0eXBlID0gJ3Bvc3QnO31pZigkbW9kZSA9PSAxIHx8ICR0eXBlID09ICd1c2VyJyB8fCAkdHlwZSA9PSAnY2hlY2tpbicpe2lmKGVtcHR5KCR0aGlzLT5hY2Nlc3NUb2tlbikpeyR0aGlzLT5sYXN0RXJyb3IgPSAnYWNjZXNzX3Rva2VuIG5vdCBhdmFpbGFibGUgLSBwbGVhc2UgQXV0aCBmaXJzdCc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDI0OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fX1pZihlbXB0eSgkY291bnQpfHwgJGNvdW50PDEpJGNvdW50PTI1O2lmKHN0cmxlbigka2V5d29yZCk8Mil7JHRoaXMtPmxhc3RFcnJvciA9ICdNaXNzaW5nIHBhcmFtZXRlciAvIHRvbyBzaG9ydChrZXl3b3JkKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7JGtleXdvcmQgPSBzdHJfcmVwbGFjZSgnICcsJysnLCRrZXl3b3JkKTtpZigkbW9kZSA9PSAwKXskZGF0YSA9ICR0aGlzLT5HcmFwaEFQSSgnL3NlYXJjaD9xPScuJGtleXdvcmQuJyZ0eXBlPScuJHR5cGUuJyZsaW1pdD0nLiRjb3VudCk7fWVsc2VpZigkbW9kZSA9PSAxKXskZGF0YSA9ICR0aGlzLT5HcmFwaEFQSSgnL21lL2hvbWU/cT0nLiRrZXl3b3JkLicmbGltaXQ9Jy4kY291bnQpO31pZigkZGF0YSA9PT0gRkFMU0Upe3JldHVybiBGQUxTRTt9ZWxzZXt1bnNldCgkZGF0YVsncGFnaW5nJ11bJ3ByZXZpb3VzJ10pO3Vuc2V0KCRkYXRhWydwYWdpbmcnXVsnbmV4dCddKTt1bnNldCgkZGF0YVsncGFnaW5nJ10pOyRkYXRhID0gJGRhdGFbJ2RhdGEnXTtyZXR1cm4gJGRhdGE7fX19cHVibGljIGZ1bmN0aW9uIFNlYXJjaFVzZXJGZWVkKCRrZXl3b3JkLCRjb3VudCl7cmV0dXJuICR0aGlzLT5TZWFyY2hTaXRlKCRrZXl3b3JkLCdwb3N0JywkY291bnQsMSk7fXB1YmxpYyBmdW5jdGlvbiBHZXRIb21lKCRjb3VudD0yNSl7aWYoJHRoaXMtPnJ1bk1vZGU8PidhcHAnKXskdGhpcy0+bGFzdEVycm9yID0gTk9UX0lOX1RISVNfTU9ERTskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMzE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9aWYoZW1wdHkoJHRoaXMtPmFjY2Vzc1Rva2VuKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdhY2Nlc3NfdG9rZW4gbm90IGF2YWlsYWJsZSAtIHBsZWFzZSBBdXRoIGZpcnN0JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjQ7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZighaXNfbnVtZXJpYygkY291bnQpKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyL3Byb3BlcnR5KGNvdW50KSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE5OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2V7aWYoJGNvdW50IDwgMSkkY291bnQgPSAyNTskZGF0YSA9ICR0aGlzLT5HcmFwaEFQSSgnL21lL2hvbWU/bGltaXQ9Jy4kY291bnQpO2lmKCRkYXRhID09PSBGQUxTRSl7cmV0dXJuIEZBTFNFO31lbHNle3Vuc2V0KCRkYXRhWydwYWdpbmcnXVsncHJldmlvdXMnXSk7dW5zZXQoJGRhdGFbJ3BhZ2luZyddWyduZXh0J10pO3Vuc2V0KCRkYXRhWydwYWdpbmcnXSk7JGRhdGEgPSAkZGF0YVsnZGF0YSddO3JldHVybiAkZGF0YTt9fX19cHVibGljIGZ1bmN0aW9uIEdldEFjY2Vzc1Rva2VuSW5mbygkYWNjZXNzX3Rva2VuPScnKXtpZigkdGhpcy0+cnVuTW9kZTw+J2FwcCcpeyR0aGlzLT5sYXN0RXJyb3IgPSBOT1RfSU5fVEhJU19NT0RFOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAzMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31pZihlbXB0eSgkYWNjZXNzX3Rva2VuKSl7aWYoIWVtcHR5KCR0aGlzLT5hY2Nlc3NUb2tlbikpeyRhY2Nlc3NfdG9rZW4gPSAkdGhpcy0+YWNjZXNzVG9rZW47fWVsc2V7JHRoaXMtPmxhc3RFcnJvciA9ICdNaXNzaW5nIHBhcmFtKGFjY2Vzc1Rva2VuKSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fX1pZighJGFjY2Vzc190b2tlbiB8fCBzdHJsZW4oJGFjY2Vzc190b2tlbik8NjAgfHwgc3RybGVuKCRhY2Nlc3NfdG9rZW4pPjIwMCl7JHRoaXMtPmxhc3RFcnJvciA9ICdhY2Nlc3NfdG9rZW4gbm90IGF2YWlsYWJsZSBvciBpbnZhbGlkJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjQ7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZigkdGhpcy0+YXBwQWNjZXNzVG9rZW4gPT0gJycpe2lmKCR0aGlzLT5HZXRBcHBBY2Nlc3NUb2tlbigpPT09IEZBTFNFKXJldHVybiBGQUxTRTt9aWYoJHRoaXMtPmFwcEFjY2Vzc1Rva2VuID09ICcnKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludGVybmFsIEVycm9yKGFjY2Vzc190b2tlbiBmb3IgYXBwIGlzIGVtcHR5KSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA2O3JldHVybiBGQUxTRTt9ZWxzZXskdG9rZW5fdXJsID0gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2RlYnVnX3Rva2VuP2lucHV0X3Rva2VuPScuJGFjY2Vzc190b2tlbi4nJmFjY2Vzc190b2tlbj0nLiR0aGlzLT5hcHBBY2Nlc3NUb2tlbjskcmVzID0gJHRoaXMtPkdldFVSTCgkdG9rZW5fdXJsKTskcmVzdWx0MiA9IGpzb25fZGVjb2RlKCRyZXMpOyRyZXMgPSAkdGhpcy0+Y29udmVydE9iamVjdFRvQXJyYXkoJHJlc3VsdDIpO2lmKGlzc2V0KCRyZXNbJ2RhdGEnXVsnZXJyb3InXSkmJiBpc19hcnJheSgkcmVzWydkYXRhJ11bJ2Vycm9yJ10pKXtpZigkcmVzWydkYXRhJ11bJ2Vycm9yJ11bJ2NvZGUnXSA9PSAxOTApeyRyZXMyWydpc192YWxpZCddID0gRkFMU0U7JHJlczJbJ2Vycm9yJ10gPSAkcmVzWydkYXRhJ11bJ2Vycm9yJ107cmV0dXJuICRyZXMyO31lbHNleyR0aGlzLT5sYXN0RXJyb3IgPSAkcmVzWydkYXRhJ11bJ2Vycm9yJ11bJ2NvZGUnXS4nIDogJy4kcmVzWydkYXRhJ11bJ2Vycm9yJ11bJ21lc3NhZ2UnXTskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTU7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9fWVsc2V7JHJlcyA9ICRyZXNbJ2RhdGEnXTskcmVzWydzY29wZXMnXVtdID0gJ2Jhc2ljJztpZihpc3NldCgkcmVzWydleHBpcmVzX2F0J10pKXskcmVzWydleHBpcmVzJ10gPSBEYXRlKCdZLW0tZCBIOmk6cycsJHJlc1snZXhwaXJlc19hdCddKTskcmVzWydleHBpcmVzX2luJ10gPSAkcmVzWydleHBpcmVzX2F0J10tdGltZSgpO31pZigkcmVzWydpc192YWxpZCddID09IDEpJHJlc1snaXNfdmFsaWQnXSA9IFRSVUU7ZWxzZWlmKCRyZXNbJ2lzX3ZhbGlkJ10gPT0gMCkkcmVzWydpc192YWxpZCddID0gRkFMU0U7aWYoJHJlc1snZXhwaXJlc19pbiddPD0oMio2MCo2MCkpJHJlc1sndHlwZSddID0gJ3Nob3J0X2xpdmVkJztlbHNlICRyZXNbJ3R5cGUnXSA9ICdsb25nX2xpdmVkJztyZXR1cm4gJHJlczt9fX19cHVibGljIGZ1bmN0aW9uIENyZWF0ZUxvbmdsaXZlZEFjY2Vzc1Rva2VuKCl7aWYoJHRoaXMtPnJ1bk1vZGU8PidhcHAnKXskdGhpcy0+bGFzdEVycm9yID0gTk9UX0lOX1RISVNfTU9ERTskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMzE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9aWYoZW1wdHkoJHRoaXMtPmFjY2Vzc1Rva2VuKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdhY2Nlc3NfdG9rZW4gbm90IGF2YWlsYWJsZSAtIHBsZWFzZSBBdXRoIGZpcnN0JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjQ7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9JHRva2VuX3VybCA9ICdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9vYXV0aC9hY2Nlc3NfdG9rZW4/Y2xpZW50X2lkPScuJHRoaXMtPmFwcElELicmY2xpZW50X3NlY3JldD0nLiR0aGlzLT5BcHBTZWNLZXkuJyZncmFudF90eXBlPWZiX2V4Y2hhbmdlX3Rva2VuJmZiX2V4Y2hhbmdlX3Rva2VuPScuJHRoaXMtPmFjY2Vzc1Rva2VuOyRhY2Nlc3NfdG9rZW4gPSAkdGhpcy0+R2V0VVJMKCR0b2tlbl91cmwpO2VjaG8gJzxwPicuJGFjY2Vzc190b2tlbi4nPHA+JztpZighJGFjY2Vzc190b2tlbiB8fCBzdHJsZW4oJGFjY2Vzc190b2tlbik8NjAgfHwgc3RybGVuKCRhY2Nlc3NfdG9rZW4pPjIwMCl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnRlcm5hbCBFcnJvcihGQiBkb2VzbnQgc2VuZCBhY2Nlc3NfdG9rZW4pJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDY7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXskYV90b2tlbiA9IGV4cGxvZGUoJyYnLCRhY2Nlc3NfdG9rZW4pO2ZvcmVhY2goJGFfdG9rZW4gYXMgJHZhbCA9PiAka2V5KXska2V5MiA9IGV4cGxvZGUoJz0nLCRrZXkpOyRhX3Rva2VuWyRrZXkyWzBdXSA9ICRrZXkyWzFdO31pZighaXNzZXQoJGFfdG9rZW5bJ2FjY2Vzc190b2tlbiddKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnRlcm5hbCBFcnJvcihhY2Nlc3NfdG9rZW4gbm90IGF2YWlsYWJsZSknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAwNjskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNleyR0aGlzLT5TZXRBY2Nlc3NUb2tlbigkYV90b2tlblsnYWNjZXNzX3Rva2VuJ10sJGFfdG9rZW5bJ2V4cGlyZXMnXSk7cmV0dXJuIFRSVUU7fX19cHVibGljIGZ1bmN0aW9uIEdldE9iamVjdENvbm5lY3Rpb25zKCRvYmplY3RpZCl7aWYoZW1wdHkoJG9iamVjdGlkKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdNaXNzaW5nIHBhcmFtZXRlcihPYmplY3RfaWQpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZihzdHJwb3Moc3Vic3RyKCRvYmplY3RpZCwxLC0xKSwnLycpIT09IEZBTFNFKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyKE9iamVjdF9pZCktIG9ubHkgc2luZ2xlIE9iamVjdElEIGFjY2VwdGVkJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTk7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZihzdWJzdHIoJG9iamVjdGlkLDAsMSk8PicvJykkb2JqZWN0aWQ9Jy8nLiRvYmplY3RpZDtpZigoJHJlcyA9ICR0aGlzLT5HcmFwaEFQSSgkb2JqZWN0aWQsJ21ldGFkYXRhPTEnKSk9PT0gRkFMU0Upe3JldHVybiBGQUxTRTt9ZWxzZXskcmVzMiA9IGFycmF5KCk7aWYoaXNzZXQoJHJlc1snbWV0YWRhdGEnXSkpe2lmKGlzc2V0KCRyZXNbJ21ldGFkYXRhJ11bJ3R5cGUnXSkpJHJlczJbJ3R5cGUnXSA9ICRyZXNbJ21ldGFkYXRhJ11bJ3R5cGUnXTtpZihpc3NldCgkcmVzWydtZXRhZGF0YSddWydjb25uZWN0aW9ucyddKSl7Zm9yZWFjaCgkcmVzWydtZXRhZGF0YSddWydjb25uZWN0aW9ucyddIGFzICR2YWwgPT4gJGtleSkkcmVzMlsnY29ubmVjdGlvbnMnXVtdID0gJHZhbDt9fXVuc2V0KCRyZXMpO3JldHVybiAkcmVzMjt9fX19cHVibGljIGZ1bmN0aW9uIEdldExpbmtTdGF0aXN0aWMoJGxpbms9JycpeyRsaW5rID0gc3RydG9sb3dlcigkbGluayk7aWYoZW1wdHkoJGxpbmspKXskdGhpcy0+bGFzdEVycm9yID0gJ01pc3NpbmcgcGFyYW0obGluayBzdHJpbmcpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTE7cmV0dXJuIEZBTFNFO31lbHNlaWYoc3Vic3RyKCRsaW5rLDAsOCk9PSdodHRwczovLycpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIvcHJvcGVydHkoaHR0cHMgbm90IHN1cHBvcnRlZCknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTtyZXR1cm4gRkFMU0U7fWVsc2V7aWYoc3Vic3RyKCRsaW5rLDAsNyk9PSdodHRwOi8vJykkbGluaz1zdWJzdHIoJGxpbmssNywxMDAwKTskeG1sX3Jlc3VsdCA9ICR0aGlzLT5HZXRVUkwoJ2h0dHA6Ly9hcGkuZmFjZWJvb2suY29tL3Jlc3RzZXJ2ZXIucGhwP21ldGhvZD1saW5rcy5nZXRTdGF0cyZ1cmxzPScudXJsZW5jb2RlKCRsaW5rKSk7aWYoJHhtbF9yZXN1bHQgPT09IEZBTFNFKXtyZXR1cm4gRkFMU0U7fWVsc2V7JGFycl9kYXRlbiA9IGFycmF5KCk7JHBvcyA9IHN1YnN0cigkeG1sX3Jlc3VsdCxzdHJwb3MoJHhtbF9yZXN1bHQsIjxsaW5rX3N0YXQ+IikrMTEpOyR4bWxfcmVzdWx0ID0gc3Vic3RyKCRwb3MsMCxzdHJwb3MoJHBvcywiPC9saW5rX3N0YXQ+IikpOyRzcGxpdF94bWwgPSBleHBsb2RlKCJcbiIsJHhtbF9yZXN1bHQpO2ZvcigkaT0xOyRpPCBjb3VudCgkc3BsaXRfeG1sKS0xOyRpKyspeyRwb3MxPXN1YnN0cigkc3BsaXRfeG1sWyRpXSxzdHJwb3MoJHNwbGl0X3htbFskaV0sIjwiKSsxKTskcG9zMj1zdWJzdHIoJHBvczEsc3RycG9zKCRwb3MxLCI+IikrMSk7JHBvczM9c3Vic3RyKCRwb3MyLDAsc3RycG9zKCRwb3MyLCI8LyIpKTskaW5kZXggPSBzdWJzdHIoJHBvczEsMCxzdHJwb3MoJHBvczEsIj4iKSk7JGFycl9kYXRlblskaW5kZXhdID0gJHBvczM7fXVuc2V0KCRhcnJfZGF0ZW5bJ3RvdGFsX2NvdW50J10pO2lmKHN0cnBvcygkbGluaywiaHR0cDovLyIpPT09IEZBTFNFKSRsaW5rPSJodHRwOi8vIi4kbGluazskcmVzdWx0X2xpbmsgPSAkdGhpcy0+R3JhcGhBUEkoIi8iLiRsaW5rKTtpZigkcmVzdWx0X2xpbmsgPT09IEZBTFNFKXtyZXR1cm4gRkFMU0U7fWVsc2V7JGFycl9kYXRlbiA9IGFycmF5X21lcmdlKCRhcnJfZGF0ZW4sJHJlc3VsdF9saW5rKTtpZihpc3NldCgkYXJyX2RhdGVuWydjb21tZW50c19mYmlkJ10pJiYgJGFycl9kYXRlblsnY29tbWVudHNfZmJpZCddIDw+ICcnKXskcmVzdWx0X2lkID0gJHRoaXMtPkdldE9iamVjdEluZm8oJGFycl9kYXRlblsnY29tbWVudHNfZmJpZCddKTtpZigkcmVzdWx0X2lkID09PSBGQUxTRSl7cmV0dXJuIEZBTFNFO31lbHNle3Vuc2V0KCRhcnJfZGF0ZW5bJ2NvbW1lbnRzX2ZiaWQnXSk7JGFycl9kYXRlblsnZmJfb2JqZWN0J11bJ2lkJ10gPSAkcmVzdWx0X2lkWydpZCddO2lmKGlzc2V0KCRyZXN1bHRfaWRbJ2Rlc2NyaXB0aW9uJ10pKSR0bXAgPSAkcmVzdWx0X2lkWydkZXNjcmlwdGlvbiddO3Vuc2V0KCRyZXN1bHRfaWRbJ2Rlc2NyaXB0aW9uJ10pO3Vuc2V0KCRyZXN1bHRfaWRbJ2lkJ10pO2ZvcmVhY2goJHJlc3VsdF9pZCBhcyAka2V5ID0+ICR2YWx1ZSl7JGFycl9kYXRlblsnZmJfb2JqZWN0J11bJGtleV0gPSAkdmFsdWU7aWYoJGtleSA9PSAndGl0bGUnICYmIGlzc2V0KCR0bXApJiYgIWVtcHR5KCR0bXApKSRhcnJfZGF0ZW5bJ2ZiX29iamVjdCddWydkZXNjcmlwdGlvbiddID0gJHRtcDt9fX1yZXR1cm4gJGFycl9kYXRlbjt9fX19cHVibGljIGZ1bmN0aW9uIFNlbmROb3RpZmljYXRpb24oJHRleHR0PScnLCRsaW5rPScnKXtpZigkdGhpcy0+cnVuTW9kZTw+J2FwcCcpeyR0aGlzLT5sYXN0RXJyb3IgPSBOT1RfSU5fVEhJU19NT0RFOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAzMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO30kdXNlcmlkPT0nJztpZigkdGhpcy0+dXNlcklEID09ICcnKXskdGhpcy0+bGFzdEVycm9yID0gJ3VzZXJJRCBpcyBlbXB0eSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDIxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2UgJHVzZXJpZCA9ICR0aGlzLT51c2VySUQ7aWYoZW1wdHkoJHRleHR0KSl7JHRoaXMtPmxhc3RFcnJvciA9ICdNaXNzaW5nIHBhcmFtZXRlcih0ZXh0IGlzIGVtcHR5KSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2VpZihzdHJsZW4oJHRleHR0KT4xODApeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIodGV4dCltYXhzaXplIDE4MCBjaGFycyc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDE5OyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2VpZihlbXB0eSgkbGluaykpeyR0aGlzLT5sYXN0RXJyb3IgPSAnTWlzc2luZyBwYXJhbWV0ZXIobGluayknOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxMTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNlaWYoc3Vic3RyKCRsaW5rLDAsMik9PScuLycgfHwgc3RydG9sb3dlcihzdWJzdHIoJGxpbmssMCw0KSk9PSdodHRwJyB8fCBzdHJ0b2xvd2VyKHN1YnN0cigkbGluaywwLDQpKT09J3d3dy4nKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyKGxpbmspb25seSByZWxhdGl2IFVSTCB0byBGQkFwcFVybCBvciBmaWxlbmFtZSBvciBvbmx5IHBhcmFtZXRlcnMnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNlaWYoZW1wdHkoJHRoaXMtPmFjY2Vzc1Rva2VuKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdhY2Nlc3NfdG9rZW4gbm90IGF2YWlsYWJsZSAtIHBsZWFzZSBBdXRoIGZpcnN0JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjQ7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZihzdWJzdHIoJGxpbmssMCwxKT09Jy8nKSRsaW5rID0gc3Vic3RyKCRsaW5rLDEpO2lmKCR0aGlzLT5hcHBBY2Nlc3NUb2tlbiA9PSAnJyl7aWYoJHRoaXMtPkdldEFwcEFjY2Vzc1Rva2VuKCk9PT0gRkFMU0UpcmV0dXJuIEZBTFNFO31pZigkdGhpcy0+YXBwQWNjZXNzVG9rZW4gPT0gJycpeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW50ZXJuYWwgRXJyb3IoYWNjZXNzX3Rva2VuIGZvciBhcHAgaXMgZW1wdHkpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMDY7cmV0dXJuIEZBTFNFO31lbHNleyRwYXJhbXMgPSBhcnJheSgpOyRwYXJhbXNbJ2hyZWYnXSA9ICRsaW5rOyRwYXJhbXNbJ3RlbXBsYXRlJ10gPSAkdGV4dHQ7JHBhcmFtc1snYWNjZXNzX3Rva2VuJ10gPSAkdGhpcy0+YXBwQWNjZXNzVG9rZW47JHJlcyA9ICR0aGlzLT5HcmFwaEFQSSgnLycuJHVzZXJpZC4nL25vdGlmaWNhdGlvbnMnLCRwYXJhbXMsRkFMU0UsVFJVRSk7aWYoJHJlcyA9PT0gRkFMU0UpcmV0dXJuIEZBTFNFO2Vsc2V7aWYoaXNzZXQoJHJlc1snc3VjY2VzcyddKSYmICRyZXNbJ3N1Y2Nlc3MnXT09MSlyZXR1cm4gVFJVRTtlbHNlIHJldHVybiAkcmVzO319fX1wdWJsaWMgZnVuY3Rpb24gU2VuZEFwcFJlcXVlc3QoJGRlc2NyaXB0aW9uPScnLCRjdXN0b21zdHJpbmc9Jycpe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKCR0aGlzLT51c2VySUQgPT0gJycpeyR0aGlzLT5sYXN0RXJyb3IgPSAndXNlcklEIGlzIGVtcHR5JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZSAkdXNlcmlkID0gJHRoaXMtPnVzZXJJRDtpZihlbXB0eSgkZGVzY3JpcHRpb24pKXskdGhpcy0+bGFzdEVycm9yID0gJ01pc3NpbmcgcGFyYW1ldGVyKGRlc2NyaXB0aW9uIGlzIGVtcHR5KSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDExOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWVsc2VpZihzdHJsZW4oJGRlc2NyaXB0aW9uKT4xMjApeyR0aGlzLT5sYXN0RXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIoZGVzY3JpcHRpb24pbWF4c2l6ZSAxMjAgY2hhcnMnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNlaWYoc3RybGVuKCRjdXN0b21zdHJpbmcpPjI1NSl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlcihjdXN0b21zdHJpbmcpbWF4c2l6ZSAyNTUgY2hhcnMnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAxOTskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNlaWYoZW1wdHkoJHRoaXMtPmFjY2Vzc1Rva2VuKSl7JHRoaXMtPmxhc3RFcnJvciA9ICdhY2Nlc3NfdG9rZW4gbm90IGF2YWlsYWJsZSAtIHBsZWFzZSBBdXRoIGZpcnN0JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjQ7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZigkdGhpcy0+YXBwQWNjZXNzVG9rZW4gPT0gJycpe2lmKCR0aGlzLT5HZXRBcHBBY2Nlc3NUb2tlbigpPT09IEZBTFNFKXJldHVybiBGQUxTRTt9aWYoJHRoaXMtPmFwcEFjY2Vzc1Rva2VuID09ICcnKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludGVybmFsIEVycm9yKGFjY2Vzc190b2tlbiBmb3IgYXBwIGlzIGVtcHR5KSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA2O3JldHVybiBGQUxTRTt9ZWxzZXskcGFyYW1zID0gYXJyYXkoKTskcGFyYW1zWydtZXNzYWdlJ10gPSB1dGY4X2VuY29kZSgkZGVzY3JpcHRpb24pOyRwYXJhbXNbJ2RhdGEnXSA9ICRjdXN0b21zdHJpbmc7JHBhcmFtc1snYWNjZXNzX3Rva2VuJ10gPSAkdGhpcy0+YXBwQWNjZXNzVG9rZW47JHJlcyA9ICR0aGlzLT5HcmFwaEFQSSgnLycuJHVzZXJpZC4nL2FwcHJlcXVlc3RzJywkcGFyYW1zLEZBTFNFLFRSVUUpO2lmKCRyZXMgPT09IEZBTFNFKXJldHVybiBGQUxTRTtlbHNle3Vuc2V0KCRyZXMyKTtpZihpc3NldCgkcmVzWydyZXF1ZXN0J10pKSRyZXMyID0gJHJlc1sncmVxdWVzdCddO2Vsc2UgJHJlczIgPSAkcmVzO3JldHVybiAkcmVzMjt9fX19cHVibGljIGZ1bmN0aW9uIEdldEFwcFJlcXVlc3QoJG1heF9udW1iPTEpe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKCR0aGlzLT51c2VySUQgPT0gJycpeyR0aGlzLT5sYXN0RXJyb3IgPSAndXNlcklEIGlzIGVtcHR5JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZSAkdXNlcmlkID0gJHRoaXMtPnVzZXJJRDtpZihlbXB0eSgkdGhpcy0+YWNjZXNzVG9rZW4pKXskdGhpcy0+bGFzdEVycm9yID0gJ2FjY2Vzc190b2tlbiBub3QgYXZhaWxhYmxlIC0gcGxlYXNlIEF1dGggZmlyc3QnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyNDskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNlaWYoJG1heF9udW1iIDwgMSB8fCAkbWF4X251bWIgPiAyMCl7JHRoaXMtPmxhc3RFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlcihtYXhfbnVtYiltYXguIDIwJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTk7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXskcmVzID0gJHRoaXMtPkdyYXBoQVBJKCcvJy4kdXNlcmlkLicvYXBwcmVxdWVzdHMnLCdsaW1pdD0nLiRtYXhfbnVtYik7aWYoJHJlcyA9PT0gRkFMU0UpcmV0dXJuIEZBTFNFO2Vsc2V7aWYoaXNzZXQoJHJlc1sncGFnaW5nJ10pKXVuc2V0KCRyZXNbJ3BhZ2luZyddKTt1bnNldCgkcmVzMik7aWYoaXNzZXQoJHJlc1snZGF0YSddKSYmIGNvdW50KCRyZXNbJ2RhdGEnXSk+MCl7aWYoY291bnQoJHJlc1snZGF0YSddKT09IDEpeyRyZXMyID0gJHJlc1snZGF0YSddWzBdO2lmKHN0cnBvcygkcmVzMlsnaWQnXSwnXycpIT09IEZBTFNFKSRyZXMyWydpZCddID0gc3Vic3RyKCRyZXMyWydpZCddLDAsc3RycG9zKCRyZXMyWydpZCddLCdfJykpO2lmKGlzc2V0KCRyZXMyWydjcmVhdGVkX3RpbWUnXSkpJHJlczJbJ2NyZWF0ZWRfbG9jYWx0aW1lJ10gPSBEYXRlKCdZLW0tZCBIOmk6cycsc3RydG90aW1lKCRyZXMyWydjcmVhdGVkX3RpbWUnXSkpO2lmKGlzc2V0KCRyZXMyWydtZXNzYWdlJ10pKSRyZXMyWydkZXNjcmlwdGlvbiddID0gJHJlczJbJ21lc3NhZ2UnXTtpZihpc3NldCgkcmVzMlsnZGF0YSddKSkkcmVzMlsnY3VzdG9tc3RyaW5nJ10gPSAkcmVzMlsnZGF0YSddO31lbHNleyRyZXMyID0gJHJlc1snZGF0YSddO2ZvcigkeD0wOyR4IDwgY291bnQoJHJlczIpOyR4Kyspe2lmKHN0cnBvcygkcmVzMlskeF1bJ2lkJ10sJ18nKSE9PSBGQUxTRSkkcmVzMlskeF1bJ2lkJ10gPSBzdWJzdHIoJHJlczJbJHhdWydpZCddLDAsc3RycG9zKCRyZXMyWyR4XVsnaWQnXSwnXycpKTtpZihpc3NldCgkcmVzMlskeF1bJ2NyZWF0ZWRfdGltZSddKSkkcmVzMlskeF1bJ2NyZWF0ZWRfbG9jYWx0aW1lJ10gPSBEYXRlKCdZLW0tZCBIOmk6cycsc3RydG90aW1lKCRyZXMyWyR4XVsnY3JlYXRlZF90aW1lJ10pKTtpZihpc3NldCgkcmVzMlskeF1bJ21lc3NhZ2UnXSkpJHJlczJbJHhdWydkZXNjcmlwdGlvbiddID0gJHJlczJbJHhdWydtZXNzYWdlJ107aWYoaXNzZXQoJHJlczJbJHhdWydkYXRhJ10pKSRyZXMyWyR4XVsnY3VzdG9tc3RyaW5nJ10gPSAkcmVzMlskeF1bJ2RhdGEnXTt9fX1yZXR1cm4gJHJlczI7fX19cHVibGljIGZ1bmN0aW9uIERlbEFwcFJlcXVlc3QoJHJlcXVlc3RfaWQpe2lmKCR0aGlzLT5ydW5Nb2RlPD4nYXBwJyl7JHRoaXMtPmxhc3RFcnJvciA9IE5PVF9JTl9USElTX01PREU7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDMxOyR0aGlzLT5Xcml0ZUxvZygwLCR0aGlzLT5sYXN0RXJyb3JDb2RlLicgJy4kdGhpcy0+bGFzdEVycm9yKTtyZXR1cm4gRkFMU0U7fWlmKCR0aGlzLT51c2VySUQgPT0gJycpeyR0aGlzLT5sYXN0RXJyb3IgPSAndXNlcklEIGlzIGVtcHR5JzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMjE7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZSAkdXNlcmlkID0gJHRoaXMtPnVzZXJJRDtpZihlbXB0eSgkdGhpcy0+YWNjZXNzVG9rZW4pKXskdGhpcy0+bGFzdEVycm9yID0gJ2FjY2Vzc190b2tlbiBub3QgYXZhaWxhYmxlIC0gcGxlYXNlIEF1dGggZmlyc3QnOyR0aGlzLT5sYXN0RXJyb3JDb2RlID0gMTAyNDskdGhpcy0+V3JpdGVMb2coMCwkdGhpcy0+bGFzdEVycm9yQ29kZS4nICcuJHRoaXMtPmxhc3RFcnJvcik7cmV0dXJuIEZBTFNFO31lbHNlaWYoZW1wdHkoJHJlcXVlc3RfaWQpKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyL2VtcHR5KHJlcXVlc3RfaWQpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTk7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZWlmKCFpc19zdHJpbmcoJHJlcXVlc3RfaWQpKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyKHJlcXVlc3RfaWQpJzskdGhpcy0+bGFzdEVycm9yQ29kZSA9IDEwMTk7JHRoaXMtPldyaXRlTG9nKDAsJHRoaXMtPmxhc3RFcnJvckNvZGUuJyAnLiR0aGlzLT5sYXN0RXJyb3IpO3JldHVybiBGQUxTRTt9ZWxzZXtpZigkdGhpcy0+YXBwQWNjZXNzVG9rZW4gPT0gJycpe2lmKCR0aGlzLT5HZXRBcHBBY2Nlc3NUb2tlbigpPT09IEZBTFNFKXJldHVybiBGQUxTRTt9aWYoJHRoaXMtPmFwcEFjY2Vzc1Rva2VuID09ICcnKXskdGhpcy0+bGFzdEVycm9yID0gJ0ludGVybmFsIEVycm9yKGFjY2Vzc190b2tlbiBmb3IgYXBwIGlzIGVtcHR5KSc7JHRoaXMtPmxhc3RFcnJvckNvZGUgPSAxMDA2O3JldHVybiBGQUxTRTt9ZWxzZXtpZihzdHJwb3MoJHJlcXVlc3RfaWQsJ18nKT09PSBGQUxTRSkkcmVxdWVzdF9pZC49J18nLiR0aGlzLT51c2VySUQ7JHBhcmFtcyA9IGFycmF5KCk7JHJlcyA9ICR0aGlzLT5HcmFwaEFQSSgnLycuJHJlcXVlc3RfaWQsJycsRkFMU0UsRkFMU0UsVFJVRSk7aWYoJHJlcyA9PT0gRkFMU0UpcmV0dXJuIEZBTFNFO2Vsc2V7cmV0dXJuICRyZXM7fX19fXB1YmxpYyBmdW5jdGlvbiBDaGVja0FwcFJlcXVlc3RDbGljaygkZXh0ZW5kZWQ9MCl7aWYoZW1wdHkoJHRoaXMtPmFwcF9jYWxsX3BhcmFtcyl8fCBzdHJwb3MoJHRoaXMtPmFwcF9jYWxsX3BhcmFtcywnZmJfc291cmNlPWJvb2ttYXJrJyk9PT1GQUxTRSl7cmV0dXJuIEZBTFNFO31lbHNleyRwYXJhbXMgPSBleHBsb2RlKCcmJywkdGhpcy0+YXBwX2NhbGxfcGFyYW1zKTtmb3JlYWNoKCRwYXJhbXMgYXMgJHZhbCl7JHZhbDIgPSBleHBsb2RlKCc9JywkdmFsKTskcGFyYW1zMlskdmFsMlswXV0gPSBzdHJ0b2xvd2VyKCR2YWwyWzFdKTt9aWYoKGlzc2V0KCRwYXJhbXMyWydmYl9zb3VyY2UnXSl8fCBpc3NldCgkcGFyYW1zMlsncmVmJ10pKSYmKCRwYXJhbXMyWydyZWYnXT09J2Jvb2ttYXJrcycgfHwgc3RycG9zKCRwYXJhbXMyWydmYl9zb3VyY2UnXSwnYm9va21hcmsnKTw+RkFMU0UpKXtpZihpc3NldCgkcGFyYW1zMlsnY291bnQnXSkmJiAkcGFyYW1zMlsnY291bnQnXT4wKWlmKCRleHRlbmRlZCA9PSAxKXskcmVzID0gJHRoaXMtPkdldEFwcFJlcXVlc3QoMSk7aWYoJHJlcyA9PT0gRkFMU0UpcmV0dXJuIEZBTFNFO2Vsc2V7JHJlczIgPSBhcnJheSgpOyRyZXMyWydjbGljayddID0gVFJVRTtpZihpc3NldCgkcmVzWydpZCddKSkkcmVzMlsnaWQnXSA9ICRyZXNbJ2lkJ107aWYoaXNzZXQoJHJlc1sndG8nXVsnaWQnXSkpJHJlczJbJ3RvX2lkJ10gPSAkcmVzWyd0byddWydpZCddO2lmKGlzc2V0KCRyZXNbJ2Rlc2NyaXB0aW9uJ10pKSRyZXMyWydkZXNjcmlwdGlvbiddID0gJHJlc1snZGVzY3JpcHRpb24nXTtpZihpc3NldCgkcmVzWydjdXN0b21zdHJpbmcnXSkpJHJlczJbJ2N1c3RvbXN0cmluZyddID0gJHJlc1snY3VzdG9tc3RyaW5nJ107aWYoaXNzZXQoJHJlc1snY3JlYXRlZF9sb2NhbHRpbWUnXSkpJHJlczJbJ2NyZWF0ZWRfbG9jYWx0aW1lJ10gPSAkcmVzWydjcmVhdGVkX2xvY2FsdGltZSddO3Vuc2V0KCRyZXMpO3JldHVybiAkcmVzMjt9fWVsc2UgcmV0dXJuIFRSVUU7ZWxzZSByZXR1cm4gRkFMU0U7fWVsc2UgcmV0dXJuIEZBTFNFO319fQ==';
                                                                                                                                                                                                                                    @eval(@base64_decode($PHPforFB6fc263eee3ed));
?>